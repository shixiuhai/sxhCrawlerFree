


            
        
                                                                                                                                                                                                





<!DOCTYPE html>
<html>
    <!--STATUS OK-->
    <head>
        
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="description" content="百度账号是登录所有百度系产品的通行证，登录后还可以在账户管理页管理/修改您的个人信息，包括修改密码、绑定手机、身份认证等">
        <title>扫码登录</title>
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, viewport-fit=cover">
        <meta name="format-detection" content="telephone=no, email=no" />
        <link rel="shortcut icon" href="https://www.baidu.com/favicon.ico" type="image/x-icon" />
        <link rel="icon" sizes="any" mask href="https://www.baidu.com/img/baidu.svg">
        
        
            <link type="text/css" rel="stylesheet" href="https://ppui-static-wap.cdn.bcebos.com/static/touch/pkg/base_b925d07.css" />
    <link type="text/css" rel="stylesheet" href="" />        
        

    <style type="text/css">
html {
    background: #fff;
}
.footer_center {
    display: none;
}
</style>
    <link type="text/css" rel="stylesheet" href="https://ppui-static-wap.cdn.bcebos.com/static/touch/pkg/qrCodeLogin_adffc83.css" />


                
        <script nonce="KkH4Yf8RIPE6cLlK">
        var dpr;
        var rem;
        var scale;
        var docEl = document.documentElement;
        var fontEl = document.createElement('style');
        var metaEl = document.querySelector('meta[name="viewport"]');
        var width = docEl.clientWidth;
        if (width > 420) {
            width = 420;
        } else if (width === 0) {
            width = 375;
        }
        dpr = window.devicePixelRatio || 1;
        var isAndroid = window.navigator.appVersion.match(/android/gi);
        var isHarmony = /(OpenHarmony|HarmonyOS)/i.test(window.navigator.userAgent);
        var isIframe = (window.top != window.self);
        var pathName = location.pathname;
        // 手机实名化时，使dpr=1，因为人机使用px布局
        if (isAndroid || isIframe || pathName.indexOf('/passport/realnamewidget') > -1 || isHarmony) {
            dpr = 1;
        }
        rem = width * dpr / 10;
        scale = 1 / dpr;
        // 设置viewport，进行缩放，达到高清效果
        metaEl.setAttribute('content', 'width=' + dpr * width + ',initial-scale=' + scale + ',maximum-scale=' + scale + ', minimum-scale=' + scale + ',user-scalable=no, viewport-fit=cover');

        // 设置data-dpr属性，留作的css hack之用
        docEl.setAttribute('data-dpr', dpr);

        // 动态写入样式
        docEl.firstElementChild && docEl.firstElementChild.appendChild(fontEl);
        fontEl && (fontEl.innerHTML = 'html{font-size:' + rem + 'px!important;}');
        // 给js调用的，某一dpr下rem和px之间的转换函数
        window.rem2px = function (v) {
            v = parseFloat(v);
            return v * rem;
        };
        window.px2rem = function (v) {
            v = parseFloat(v);
            return v / rem;
        };

        window.dpr = dpr;
        </script>

                
    </head>
        <!-- htmlcs-disable -->
    <body class=" content-body ">
        <div id="pageWrapper">

            
            
            
            <div class="mod-content">
                
        <div class="qrcode-login">
                <div class="qrcode-login-img qrcode-login-icon-"></div>
                <div class="tcenter qrcode-tip1">百度账号
            <span class="qrcode-tip1-black">sk***秀祎</span>在其他设备登录
            <p class="user-device-ip-box" id="userDeviceipBox">
                <span class="ip-babel">登录地点&nbsp;</span>
                <span class="ip-area" id="device-ip-area">北京</span>
            </p>
            <span class="qrcde-tip1-span" id="yidilogin-text">此次为<b>异地登录</b></span> 
            <span class="qrcde-tip1-span qrcde-tip1-careful" id="confirmLogin-text">请确认是本人操作
                <div id="confirmLogin-text-qrfrom">，并确保二维码来源安全</div>
            </span> 
            <span class="qrcde-tip1-span" id="old-qrfrom">并确保二维码来源安全</span>
            <span class="qrcde-tip1-span" id="riskres-text">若非本人登录可能导致账号被盗或资金被盗</span>
        </div>
        <p class="error_area" id="error"></p>
    <!-- htmlcs-disable -->

    <div class="bottom-wrapper">
        <p class="qr-login-agreement m-lr14">阅读并同意
            <a href="https://wappass.baidu.com/passport/agreement?adapter=3">百度用户协议</a> 和
            <a href="https://wappass.baidu.com/passport/agreement?personal=1&adapter=3">隐私政策</a>
            <span class="protocol-duer">
                、<a href="https://xiaodu.baidu.com/saiya/xiaodu/law/protocol.html">DuerOS用户协议</a>
                、<a href="https://xiaodu.baidu.com/saiya/xiaodu/privacylaw/index.html">DuerOS隐私政策</a>
                、<a href="https://xiaodu.baidu.com/saiya/xiaodu/law/child.html">DuerOS儿童用户协议</a>
                、<a href="https://xiaodu.baidu.com/saiya/xiaodu/privacylaw/child.html">DuerOS儿童隐私政策</a>
            </span>
        </p>
        <div class="mod-btn-wrapper form-item-btn qrcode-btn-pc m-lr14 ">
            <input type="button" value="确认登录" class="pass-button-full" id="qrcodeLogin-sure">
                                            <!-- htmlcs-disable -->
                <a class="pass-button-cancel-login" id="switchAccount">切换账号</a>
                                    </div>
    </div>

    <div id="qrcodeWarnWrapper">
        <div class="qrcode-warn-finish">
            <p id="qrcodeWarnMsg"></p>
            <button class="qrcode-warn-sure" id="qrcodeWarnSure">确定</button>
        </div>
    </div>

                                <div class="new-help" id="newHelp">
    <span class="help-img"></span>
    <span class="help-text">在线<br>客服</span>
</div>
                            </div>


            
                            <footer class="footer_center"></footer>
                    </div>

        

        <script type="text/javascript" nonce="KkH4Yf8RIPE6cLlK">
            var apiDomain = "",
                publicVar = 'clientfrom=&adapter=3&ssid=&from=&authsite=&bd_page_type=&uid=&pu=&tpl=netdisk&u=&type=&bdcm=&tn=&regist_mode=&login_share_strategy=&subpro=&skin=default_v2&client=&connect=&smsLoginLink=1&loginLink=&bindToSmsLogin=&overseas=&is_voice_sms=&subpro=&traceid=&hideSLogin=&forcesetpwd=&nousername=&regdomestic=&extrajson=',
                publicData = {
                    tpl: '' || 'netdisk',
                    subpro : '',
                    client: '',
                    adapter:'3' || '3',
                    extrajson: '',
                    clientfrom: ''
                },
                client=false;
            var traceID = '';

            var isStatusbar = '';
            if (isStatusbar === '1' && isAndroid) {
                document.body.classList.add('android-pass-status-bar');
            }
            
            var isIOS = /(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)
            if (isStatusbar === '1' && isIOS) {
                document.body.classList.add('ios-pass-status-bar');
            }

            // 增加加载错误文件打点
            window.addEventListener('error', function (e) {
                try {
                    var link = document.location.protocol + '//nsclick.baidu.com/v.gif?'
                    + 'pid=111&data_source=fe&type=1023'
                    + '&source=' + (publicData.clientfrom || 'wap')
                    + '&client=' + (publicData.client || '')
                    + '&v=' + new Date().getTime()
                    + '&tpl=' + publicData.tpl;
                    // js报错
                    if (e.message) {
                        link += '&auto_statistic=' + btoa('{eventType:touch-js-error}');
                        link += '&extrajson=' + (e.filename || '') + ' ' + (e.lineno || '');
                        link += '&subpro=' + (e.message || '');
                    } else {
                    // 文件加载错误
                        link += '&auto_statistic=' + btoa('{eventType:touch-load-error}');
                        link += '&extrajson=' + (e.target.src || '');
                        link += '&subpro=' + (e.target.localName || '') + (e.type || '');
                    }
                    var img = new Image();
                    img.onload = img.onerror = function () {
                        img.onload = img.onerror = null;
                        img = null;
                    };
                    img.src = link;
                } catch(e) {
                    // catch
                };
            },true);
        </script>

        <script src="https://ppui-static-wap.cdn.bcebos.com/static/touch/js/base_9f32b41.js"></script>
        
        
        
        

<script nonce="KkH4Yf8RIPE6cLlK">
/* globals publicData, Pass, apiDomain */
$(function(){
    var Pass = window.Pass;
    var suppcheck = '';
    var offline = '0';
    /* eslint-disable fecs-camelcase */
    var oauth_offpage = '0';
    // oauth产品线过来的打点标识
    var oauthLog = '';
    Pass.logAll.logBfb({
        en: 'touch-qrcode_login'
            + (offline === '1' ? '_offline' : '_online')
    });
    var submitTimer;
    var hasLogin = false;
    var redirectU = '';
    var customScan = '';
    var customColor = '';
    var jumpurl = '';
    var rspData;
    var loginFrom = '';
    var qrloginFrom = 'pc';
    var isDuer = '';
    var authFromRisk = '';
    var isDevice = ['watch', 'tv', 'kindle', 'speakers'].indexOf('pc') > -1 || false;
    // 命中风控被禁止登录
    var unsafeDisableLogin = false;
    var unsafeDisableLogining = false;
    // 命中风控异地提示
    var unsafeTips = '110000';
    var riskOptions = {
        ipArea: '',
        timer: null
    };

    // 展示风控异地安全提示
    function showRiskTips(code) {
        var status = false;
        if (code === '50061') {
            status = true;
        }
        if (status) {
            $('#userDeviceipBox').show();
            $('#device-ip-area').text(riskOptions.ipArea || '未知');
            $('#yidilogin-text').show();
            $('#riskres-text').show();
            $('#confirmLogin-text-qrfrom').show();
            $('#old-qrfrom').hide();
            $('#confirmLogin-text').removeClass('qrcde-tip1-careful');
            $('#qrcodeLogin-sure').disabled = true;
            $('#qrcodeLogin-sure').addClass('qrLoginBrnDisableClas');

            var CountNum = 5;
            $('#qrcodeLogin-sure').val('确认登录(' + CountNum + 'S)');
            riskOptions.timer = setInterval(function() {
                if (CountNum <= 0) {
                    $('#qrcodeLogin-sure').val('确认登录');
                    $('#qrcodeLogin-sure').removeClass('qrLoginBrnDisableClas');
                    clearInterval(riskOptions.timer);
                    riskOptions.timer = null;
                    return;
                }
                $('#qrcodeLogin-sure').val('确认登录(' + CountNum + 'S');
                CountNum--;
            }, 1000)
        } else {
            $('#userDeviceipBox').hide();
            $('#yidilogin-text').hide();
            $('#riskres-text').hide();
            $('#confirmLogin-text-qrfrom').hide();
            $('#old-qrfrom').show();
            $('#confirmLogin-text').addClass('qrcde-tip1-careful');
        }
    };
    showRiskTips(unsafeTips);

    if (authFromRisk !== '1') {
        authFromRisk = '';
    }
    Pass.logAll.logBfb({
        en: 'touch-qrcode_show'
    });
    var zid = '';
    Pass.client.ischeckNativeMethod('sapi_action_get_security_zid', function () {
        Pass.client.deviceClassJson('sapi_action_get_security_zid', {eventId: 115}, function (id, params) {
            zid = params.zid || '';
        });
    });
    function gotoRedirectU(rsp) {
        var ru = rsp.data.redirectU || 'https://m.baidu.com';
        ru = changeURLArg(ru, 'errno', rsp.errInfo.no);
        ru = changeURLArg(ru, 'errmsg', rsp.errInfo.msg);
        document.location.replace(ru);
    }

    function changeURLArg(uri, key, value) {
        var re = new RegExp('([?&])' + key + '=.*?(&|$)', 'i');
        var separator = uri.indexOf('?') !== -1 ? '&' : '?';
        if (uri.match(re)) {
            return uri.replace(re, '$1' + key + '=' + value + '$2');
        } else {
            return uri + separator + key + '=' + value;
        }
    }

    // 自定义样式设置
    if (customColor) {
        $('#qrcodeLogin-sure').css('backgroundColor', '#' + customColor);
        $('#qrcodeLogin-sure').css('borderColor', '#' + customColor);
    }

    var $footerCenter = $('.footer_center');
    $footerCenter.hide();
    if (+oauth_offpage === 1) {
        Pass.client.ischeckNativeMethod('oauth_call_baidu', function () {
            var json = {
                errNo: '110000',
                msg: '确认登录'
            };
            Pass.client.deviceClassJson('oauth_call_baidu', json);
        });
    }

    if (+loginFrom === 1) {
        $footerCenter.hide();
    }
    if (isDuer === '1') {
        $('.protocol-duer').show();
    }

    $('#closeWechat').on('click', function (e) {
        e.preventDefault();
        WeixinJSBridge.invoke('closeWindow');
    });

    function loginToClient() {
        var dataNative = {
            'bduss': rspData.data.bduss,
            'ptoken': rspData.data.ptoken,
            'relogin': rspData.data.relogin,
            'stoken_list': rspData.data.stoken_list
        };
        if (suppcheck === '1') {
            Pass.client.checkNativeMethod('sapi_action_qr_login', function () {
                Pass.client.sapiActionQrLogin(dataNative);
            }, function () {
                var ua = navigator.userAgent;
                if (window.sapi_obj && window.sapi_obj.finish) {
                    window.sapi_obj.finish();
                } else if (ua.indexOf('Android') > -1) {
                    prompt('{action:{name:"finish"}}');
                } else {
                    document.location = 'sapi://finish/{}/10000';
                }
            });
        }
        else if (isDevice) {
            oauthQrlogin();
        }

    }

    function oauthQrlogin() {
        $('.qrcode-login-suc-wrapper').addClass('qrcode-login-suc-wrapper');
        $('.qrcode-login-icon-select').addClass('qrcode-oauth-success');
        $('.qrcode-oauth-suc-icon, .qrcode-login-success-oauth, .footer_center').show();
        $('.qrcode-login-use, .form-item-btn').hide();
    }

    if (isDevice) {
        $footerCenter.hide();
    }

    function loginCallback(evt, obj) {
        Pass.logAll.logBfb({
            en: 'touch-qrcode_submit'
        });
        var ele = $(this).get(0);
        evt.preventDefault();
        if (ele.disabled) {
            return;
        }
        if (hasLogin) {
            tip('已登录成功！');
            loginToClient();
        } else {
            ele.disabled = true;
            ele.value = '登录中...';
            var jsonData = {
                authsid: '',
                authFromRisk: authFromRisk,
                tpl: 'netdisk',
                lp: 'pc',
                token: 'd0d102d503077e684d62b0cb2880d4b9',
                sign: '2fbc6bfb8d3fd2e0fc7530ce7727a6cc',
                client: '',
                offline: offline,
                adapter: '3',
                clientfrom: '',
                skin: '',
                liveAbility: '',
                suppcheck: '',
                isBaiduApp: '0',
                qrloginfrom: 'pc',
                redirectU: redirectU,
                jumpurl: jumpurl,
                // 扫码登录添加zid
                zid: zid || ''
            };
            if (obj && obj.sso_hash) {
                jsonData.oauth_sso_hash = obj.sso_hash;
                jsonData.getaccesstoken = '';
                jsonData.getauthorizationcode = '';
                jsonData.oauth_redirect_uri = '';
                jsonData.client_id = '';
            }
            $.post(apiDomain + '/wp/?qrlogin' + '&v=' + new Date().getTime(), jsonData, function (rsp) {
                Pass.logAll.logBfb({
                    en: 'touch-qrcode_request',
                    urlObj: {
                        errno: rsp.errInfo.no
                    }
                });
                if (+rsp.errInfo.no === 0) {
                    if (+loginFrom === 1) {
                        $('.mod-btn-wrapper, .relevance-alert, .relavance-login-use').hide();
                        $('.relavance-login-success-text, .relavance-login-success-title, .footer_center').show();
                        hasLogin = true;
                    }
                    else {
                        ele.disabled = false;
                        ele.value = isDevice ? '登录且授权成功' : '登录成功';
                        tip(isDevice ? '登录且授权成功' : '登录成功');
                        hasLogin = true;
                        rspData = rsp;
                        if (redirectU) {
                            if (+customScan === 1) {
                                gotoRedirectU(rsp);
                            } else if (/^(http|https):\/\/.+/.test(redirectU)) {
                                document.location.href = rsp.data.redirectU;
                            } else {
                                tip('redirectU参数错误');
                            }
                        } else {
                            Pass.client.ischeckNativeMethod('oauth_call_baidu', function () {
                                var data = {
                                    access_token: rsp.data.access_token,
                                    authorization_code: rsp.data.authorization_code,
                                    expires_in: rsp.data.expires_in,
                                    openid: rsp.data.openid
                                };
                                Pass.client.deviceClassJson('oauth_call_baidu', data, function (id, params) {
                                }, null, 1);
                            }, function () {
                            });
                            loginToClient();
                        }
                    }
                } else if (+rsp.errInfo.no === 400021) {
                    if (+customScan === 1) {
                        gotoRedirectU(rsp);
                    } else {
                        document.location.replace(rsp.data.u);
                    }
                } else if (+rsp.errInfo.no === 400023) {
                    // 命中风控，需要去验证控件验证
                    document.location.replace(rsp.data.gotoUrl);
                } else if (+rsp.errInfo.no === 50000) {
                    // 命中风控，禁止扫码登录
                    var $qrcodeWarnWrapper = $('#qrcodeWarnWrapper');
                    $('#qrcodeWarnMsg').text(rsp.errInfo.msg);
                    $qrcodeWarnWrapper.show();
                    $('#qrcodeWarnSure').off().on('click', function () {
                        $qrcodeWarnWrapper.hide();
                    });
                    if (+customScan === 1) {
                        gotoRedirectU(rsp);
                    }
                } else {
                    ele.value = '确认登录';
                    if (+rsp.oauth_offpage === 1) {
                        Pass.client.ischeckNativeMethod('oauth_call_baidu', function () {
                            var data = {
                                errNo: rsp.errInfo.no,
                                msg: rsp.errInfo.msg
                            };
                            Pass.client.deviceClassJson('oauth_call_baidu', data, function (id, params) {
                            });
                        }, function () {
                        });
                    }
                    tip(rsp.errInfo.msg);
                    if (+customScan === 1) {
                        gotoRedirectU(rsp);
                    }
                }
                ele.disabled = false;
                clearTimeout(submitTimer)

            }, 'json');

            submitTimer = setTimeout(function(){
                ele.disabled = false;
                ele.value = '确认登录';
                tip('网络连接失败，请检查您的网络设置并稍后再试。')
            }, 15000);

        }

    }
    function tip(msg) {
        $("#error").html(msg).css('display','block');
        setTimeout(function(){
            $("#error").html('').hide();
        },2000);
    }
    function customParse(str) {
        var reStr = {}
        if (!str) {
            return {}
        }
        try {
            var strA = str.split(',');
            for (var i = 0, len = strA.length; i < len; i++) {
                var item = strA[i].split(':');
                reStr[item[0]] = item[1];
            }
        } catch (e) {}
        return reStr;
    }

    // 单击确认登录
    $('#qrcodeLogin-sure').on('click', function (e) {
        try {
            if (riskOptions.timer || unsafeDisableLogining) {
                // 正在倒计时确认
                return;
            }
            var logObjStr = decodeURIComponent($.fn.getQueryString('logPage')) || '';
            var logObj = customParse(logObjStr);
            Pass.logAll.logBfb({
                en: 'touch-qrcode_login_click',
                urlObj: {
                    oauthLog: oauthLog || '',
                    page: logObj.logPage || '',
                    traceId: logObj.traceId || '',
                },
            });
        } catch (e) {

        }
        if (+$.fn.getQueryString('getaccesstoken') === 1 || +$.fn.getQueryString('getauthorizationcode') === 1) {
            Pass.client.ischeckNativeMethod('oauth_sso_hash', function () {
                if (window.publicData.client === 'android') {
                    var fn = 'oauth_sso_hash';
                    var params = {};
                    var androidParams = JSON.stringify(params);
                    var methodInfo = '{action:{name:"' + fn + '",params:[' + androidParams + ']}}';
                    var promptParams = prompt(methodInfo);
                    var obj = {};
                    obj.sso_hash = promptParams || '';
                    loginCallback(e, obj);
                } else {
                    Pass.client.deviceClassJson('oauth_sso_hash', {}, function (id, params) {
                        /* eslint-disable fecs-camelcase */
                        if (params && params.sso_hash) {
                            var obj = {};
                            obj.sso_hash = params.sso_hash || '';
                            loginCallback(e, obj);
                        }
                    });
                }
            }, function () {
                loginCallback(e);
            });
        } else {
            loginCallback(e);
        }
    });

    // 如果是验证控件成功返回的，那么直接触发确认登录
    if (authFromRisk === '1') {
        $('#qrcodeLogin-sure').trigger('click');
    }

    function ajaxPostFun() {
        var data = {
            authsid: '',
            tpl: 'netdisk',
            lp: 'pc',
            token: 'd0d102d503077e684d62b0cb2880d4b9',
            sign: '2fbc6bfb8d3fd2e0fc7530ce7727a6cc',
            offline: offline,
            method: 'post',
            cmd: 'cancel',
            jumpurl: jumpurl,
            // 扫码登录添加zid
            zid: zid || ''
        };
        $.ajax({
            type: 'POST',
            url: apiDomain + '/wp/?qrlogin' + '&v=' + new Date().getTime(),
            data: data,
            success: function (msg) {
                callbaidu();
                finishSdk();
            },
            error: function () {
                callbaidu();
                finishSdk();
            }
        });
    }

    function finishSdk() {
        var ua = navigator.userAgent;
        if (window.sapi_obj && window.sapi_obj.finish) {
            window.sapi_obj.finish();
        } else if (ua.indexOf('Android') > -1) {
            prompt('{action:{name:"finish"}}');
        } else {
            document.location = 'sapi://finish/{}/10000';
        }
    }
    function callbaidu() {
        Pass.client.ischeckNativeMethod('oauth_call_baidu', function () {
            var data = {
                errNo: '-301',
                msg: '用户取消'
            };
            Pass.client.deviceClassJson('oauth_call_baidu', data, function (id, params) {
            }, null, 1);
        }, function () {
        });
    }
    $('#qrcodeLogin-none').on('click', function (e) {
        e.preventDefault();
        ajaxPostFun();
        Pass.logAll.logBfb({
            en: 'touch-qrcode_qrcodeLogin-none'
        });
        if (WeixinJSBridge) {
            WeixinJSBridge.invoke('closeWindow');
        }
    });

    var sdkVersion = '';
    try {
        sdkVersion = navigator.userAgent.match(/Sapi_([\S\s]*)_Sapi/)[1].split('_')[0][0] || '';
    } catch (e) {
        console.log(e);
    }

    if (sdkVersion) {
        $('#switchAccount').remove();
    } else {
        // 获取UA
        var browserUserAgent = window && window.navigator && window.navigator.userAgent;
        var handleClientFrom = $.fn.getQueryString('clientfrom');
        var urlTpl = $.fn.getQueryString('tpl');
        // 切换账号进入蓝白页需要重置clientfrom的场景(防止扫码段非端内，但clientfrom为na走na逻辑，导致流程卡死)
        var tplList = ['puffer_one_s'];
        // 判断是否是pass sdk或者oauth sdk内
        if (tplList.indexOf(urlTpl) > -1 && !/bdoa_/.test(browserUserAgent) && !/Sapi_/.test(browserUserAgent)) {
            handleClientFrom = '';
        }

        $('#switchAccount').on('click', function (e) {
            var href = 'https://wappass.baidu.com/?';
            href += 'adapter=' + ($.fn.getQueryString('adapter') || '');
            href += '&extrajson=' + ($.fn.getQueryString('extrajson') || '');
            href += '&clientfrom=' + (handleClientFrom || 'wap');
            href += '&u=' + encodeURIComponent(location.href);
            location.href = href;
            return false;
        });
    }
})
</script>

    </body>
</html>
