!function(){var e,t={71640:function(e,t,n){"use strict";var i,r,o,a,l,c,d,s,u,p,f,C,E,_,m,I=n(15861),g=n(87757),v=n.n(g),T=n(93324),A=n(71002),O=n(4942),N=n(68714);!function(e){e[e.AD_CARD_CLOSE=243]="AD_CARD_CLOSE",e[e.AD_CARD_IMPRESSION=241]="AD_CARD_IMPRESSION",e[e.AD_ITEM_CLICK=2]="AD_ITEM_CLICK",e[e.AD_ELEMENT_CLICK=141]="AD_ELEMENT_CLICK",e[e.AD_ITEM_PLAY_END_CARD_IMPRESSION=531]="AD_ITEM_PLAY_END_CARD_IMPRESSION",e[e.AD_PHOTO_REPLAYED=24]="AD_PHOTO_REPLAYED",e[e.AD_ITEM_CLOSE=3]="AD_ITEM_CLOSE",e[e.AD_ELEMENT_IMPRESSION=140]="AD_ELEMENT_IMPRESSION",e[e.AD_ITEM_NEGATIVE=4]="AD_ITEM_NEGATIVE",e[e.ACT_AD_AGG_PAGE_REFRESH=12006]="ACT_AD_AGG_PAGE_REFRESH",e[e.ACT_ITEM_IMPRESSION=1]="ACT_ITEM_IMPRESSION",e[e.AD_ITEM_IMPRESSION=1]="AD_ITEM_IMPRESSION",e[e.AD_ITEM_SKIPED=501]="AD_ITEM_SKIPED"}(i||(i={})),function(e){e[e.ELEMENT_CARD_ICON_CLICK=6]="ELEMENT_CARD_ICON_CLICK",e[e.ELEMENT_CARD_ICON_NAME_CLICK=7]="ELEMENT_CARD_ICON_NAME_CLICK",e[e.ELEMENT_CARD_ICON_COMMENT_CLICK=8]="ELEMENT_CARD_ICON_COMMENT_CLICK",e[e.ELEMENT_CARD_ICON_OTHERAREA_CLICK=34]="ELEMENT_CARD_ICON_OTHERAREA_CLICK",e[e.ELEMENT_CARD_PICTURE_CLICK_ONE=35]="ELEMENT_CARD_PICTURE_CLICK_ONE",e[e.ELEMENT_CARD_PICTURE_CLICK_TWO=36]="ELEMENT_CARD_PICTURE_CLICK_TWO",e[e.ELEMENT_CARD_PICTURE_CLICK_THREE=37]="ELEMENT_CARD_PICTURE_CLICK_THREE",e[e.ELEMENT_CARD_PICTURE_TITLE_CLICK_ONE=38]="ELEMENT_CARD_PICTURE_TITLE_CLICK_ONE",e[e.ELEMENT_CARD_PICTURE_TITLE_CLICK_TWO=39]="ELEMENT_CARD_PICTURE_TITLE_CLICK_TWO",e[e.ELEMENT_CARD_PICTURE_TITLE_CLICK_THREE=40]="ELEMENT_CARD_PICTURE_TITLE_CLICK_THREE",e[e.ELEMENT_CARD_PICTURE_SUBTITLE_CLICK_ONE=41]="ELEMENT_CARD_PICTURE_SUBTITLE_CLICK_ONE",e[e.ELEMENT_CARD_PICTURE_SUBTITLE_CLICK_TWO=42]="ELEMENT_CARD_PICTURE_SUBTITLE_CLICK_TWO",e[e.ELEMENT_CARD_PICTURE_SUBTITLE_CLICK_THREE=43]="ELEMENT_CARD_PICTURE_SUBTITLE_CLICK_THREE",e[e.ELEMENT_CARD_IMPRESSION=16]="ELEMENT_CARD_IMPRESSION",e[e.ELEMENT_PLAYEND_CARD_IMPRESSION=87]="ELEMENT_PLAYEND_CARD_IMPRESSION",e[e.ELEMENT_PLAYING_LANDINGPAGE_IMPRESSION=99]="ELEMENT_PLAYING_LANDINGPAGE_IMPRESSION",e[e.ELEMENT_CARD_VIEW_DETAIL_CLICK=68]="ELEMENT_CARD_VIEW_DETAIL_CLICK",e[e.UNKONWN_ELEMENT_TYPE=0]="UNKONWN_ELEMENT_TYPE",e[e.ELEMENT_COVER_LAYER=14]="ELEMENT_COVER_LAYER",e[e.ELEMENT_PLAYING_FORM_CARD_IMPRESSION=100]="ELEMENT_PLAYING_FORM_CARD_IMPRESSION",e[e.ELEMENT_PLAYING_FORM_CARD_CLICK=101]="ELEMENT_PLAYING_FORM_CARD_CLICK",e[e.ELEMENT_PLAYEND_FORM_CARD_CLICK=102]="ELEMENT_PLAYEND_FORM_CARD_CLICK",e[e.ELEMENT_BIG_CARD_IMPRESSION=127]="ELEMENT_BIG_CARD_IMPRESSION",e[e.ELEMENT_BIG_CARD_CLOSE_CLICK=128]="ELEMENT_BIG_CARD_CLOSE_CLICK",e[e.ELEMENT_BIG_CARD_SUBMIT_CLICK=129]="ELEMENT_BIG_CARD_SUBMIT_CLICK",e[e.ELEMENT_BIG_CARD_ENTER_LANDING_PAGE=130]="ELEMENT_BIG_CARD_ENTER_LANDING_PAGE",e[e.ELEMENT_RETAIN_CARD_IMPRESSION=149]="ELEMENT_RETAIN_CARD_IMPRESSION",e[e.ELEMENT_RETAIN_CARD_CONTINUE_CLICK=150]="ELEMENT_RETAIN_CARD_CONTINUE_CLICK",e[e.ELEMENT_RETAIN_CARD_LEAVE_CLICK=151]="ELEMENT_RETAIN_CARD_LEAVE_CLICK",e[e.MIDDLE_PAGE_DOWNLOAD_BUTTON_CLICK=152]="MIDDLE_PAGE_DOWNLOAD_BUTTON_CLICK",e[e.MIDDLE_PAGE_BACK_BUTTON_CLICK=153]="MIDDLE_PAGE_BACK_BUTTON_CLICK",e[e.ELEMENT_CARD_STRONG_STYLE=143]="ELEMENT_CARD_STRONG_STYLE",e[e.ELEMENT_ACTION_BAR=19]="ELEMENT_ACTION_BAR",e[e.ELEMENT_PLAYEND_ANVIDEO_CLICK=164]="ELEMENT_PLAYEND_ANVIDEO_CLICK",e[e.ELEMENT_SHAKE_ACTION_BAR=185]="ELEMENT_SHAKE_ACTION_BAR",e[e.ELEMENT_CARD_ACTION_BAR_CLICK=67]="ELEMENT_CARD_ACTION_BAR_CLICK"}(r||(r={})),function(e){e[e.PAGE_PLAY_END=6]="PAGE_PLAY_END"}(o||(o={})),(C=a||(a={}))[C.ACTION_BAR_CLICK=1]="ACTION_BAR_CLICK",C[C.PLAY_END_CLICK=2]="PLAY_END_CLICK",C[C.CAPTION_CLICK=3]="CAPTION_CLICK",C[C.CAPTION_ITEM_CLICK=4]="CAPTION_ITEM_CLICK",C[C.PROFILE_ITEM_CLICK=5]="PROFILE_ITEM_CLICK",C[C.BRAND_PROMOTION_ITEM_CLICK=6]="BRAND_PROMOTION_ITEM_CLICK",C[C.APP_DOWNLOAD_ITEM_CLICK=7]="APP_DOWNLOAD_ITEM_CLICK",C[C.CARD_ACTION_BAR_CLICK=29]="CARD_ACTION_BAR_CLICK",C[C.CARD_ICON_CLICK=30]="CARD_ICON_CLICK",C[C.CARD_ICON_NAME_CLICK=31]="CARD_ICON_NAME_CLICK",C[C.CARD_ICON_COMMENT_CLICK=32]="CARD_ICON_COMMENT_CLICK",C[C.CARD_APP_SCORE_CLICK=45]="CARD_APP_SCORE_CLICK",C[C.CARD_APP_DOWNLOAD_NUM=46]="CARD_APP_DOWNLOAD_NUM",C[C.BLANK_AREA_CLICK=35]="BLANK_AREA_CLICK",C[C.PLAY_END_CLICK1=37]="PLAY_END_CLICK1",C[C.PLAY_END_CLICK2=38]="PLAY_END_CLICK2",C[C.PLAY_END_ICON_CLICK=15]="PLAY_END_ICON_CLICK",C[C.PLAY_END_ICON_TITLE_CLICK=16]="PLAY_END_ICON_TITLE_CLICK",C[C.PLAY_END_ICON_DESCRIPTION_CLICK=17]="PLAY_END_ICON_DESCRIPTION_CLICK",C[C.PLAYEND_APP_SCORE_CLICK=27]="PLAYEND_APP_SCORE_CLICK",C[C.PENDANT_ICON_CLICK=41]="PENDANT_ICON_CLICK",C[C.PLAYEND_APP_DOWNLOAD_NUM=44]="PLAYEND_APP_DOWNLOAD_NUM",C[C.PLAYEND_ACTION_BAR_CLICK=26]="PLAYEND_ACTION_BAR_CLICK",C[C.CARD_AREA=104]="CARD_AREA",C[C.CARD_ICON_TESTBOX_CLICK=52]="CARD_ICON_TESTBOX_CLICK",C[C.CARD_ICON_OTHERAREA_CLICK=53]="CARD_ICON_OTHERAREA_CLICK",C[C.CARD_ICON_MOBILE_CLICK=54]="CARD_ICON_MOBILE_CLICK",C[C.RED_PACKET_AREACLICK=66]="RED_PACKET_AREACLICK",C[C.INTERACT_LANDING_PAGE_CLICK=110]="INTERACT_LANDING_PAGE_CLICK",C[C.CARD_PICTURE_CLICK_ONE=57]="CARD_PICTURE_CLICK_ONE",C[C.CARD_PICTURE_CLICK_TWO=58]="CARD_PICTURE_CLICK_TWO",C[C.CARD_PICTURE_CLICK_THREE=59]="CARD_PICTURE_CLICK_THREE",C[C.CARD_PICTURE_TITLE_CLICK_ONE=60]="CARD_PICTURE_TITLE_CLICK_ONE",C[C.CARD_PICTURE_TITLE_CLICK_TWO=61]="CARD_PICTURE_TITLE_CLICK_TWO",C[C.CARD_PICTURE_TITLE_CLICK_THREE=62]="CARD_PICTURE_TITLE_CLICK_THREE",C[C.CARD_PICTURE_SUBTITLE_CLICK_ONE=63]="CARD_PICTURE_SUBTITLE_CLICK_ONE",C[C.CARD_PICTURE_SUBTITLE_CLICK_TWO=64]="CARD_PICTURE_SUBTITLE_CLICK_TWO",C[C.CARD_PICTURE_SUBTITLE_CLICK_THREE=65]="CARD_PICTURE_SUBTITLE_CLICK_THREE",C[C.CARD_RANK_CLICK=75]="CARD_RANK_CLICK",C[C.CARD_DOWNLOAD_CNT_CLICK=76]="CARD_DOWNLOAD_CNT_CLICK",C[C.CARD_TAG_CLICK=77]="CARD_TAG_CLICK",C[C.CARD_LABEL_CLICK=78]="CARD_LABEL_CLICK",C[C.PLAYEND_CARD_CLICK=86]="PLAYEND_CARD_CLICK",C[C.CARD_PAGE_CLICK=85]="CARD_PAGE_CLICK",C[C.PLAYING_LANDINGPAGE_ACTION_BAR=99]="PLAYING_LANDINGPAGE_ACTION_BAR",C[C.INSTANT_TRY_STRONG_CLICK=112]="INSTANT_TRY_STRONG_CLICK",C[C.MISOPERATION_CLICK=113]="MISOPERATION_CLICK",C[C.FRONT_CARD_RENDER_SUCCESS_CLICK=148]="FRONT_CARD_RENDER_SUCCESS_CLICK",C[C.FRONT_CARD_RENDER_FAIL_CLICK=149]="FRONT_CARD_RENDER_FAIL_CLICK",C[C.CAED_SKIDE_CLICK=153]="CAED_SKIDE_CLICK",C[C.ACTIONBAR_ICON_OTHER_AREA_CLICK=118]="ACTIONBAR_ICON_OTHER_AREA_CLICK",C[C.CAED_ONE_MORE_BTN=163]="CAED_ONE_MORE_BTN",C[C.SHAKE_ICON_SHACK=157]="SHAKE_ICON_SHACK",C[C.SHAKE_BIG_ICON_CLICK=158]="SHAKE_BIG_ICON_CLICK",C[C.CARD_RECO_CLICK=84]="CARD_RECO_CLICK",C[C.PLAY_END_CALL_CLICK=39]="PLAY_END_CALL_CLICK",C[C.COMMENT_DETAIL_CLICK=25]="COMMENT_DETAIL_CLICK",C[C.COMMENT_PICTURE_CLICK=100]="COMMENT_PICTURE_CLICK",C[C.PORTRAIT_CLICK=13]="PORTRAIT_CLICK",C[C.COMMENT_CLICK=14]="COMMENT_CLICK",C[C.COMMENT_RECO_CLICK=101]="COMMENT_RECO_CLICK",function(e){e[e.PORTTRAIT=0]="PORTTRAIT",e[e.LANDSCAPE=1]="LANDSCAPE"}(l||(l={})),function(e){e.LEFT_TOP="leftTop",e.RIGHT_BOTTOM="rightBottom",e.LEFT_BOTTOM="leftBottom",e.IMAGE_LEFT_BOTTOM="imageLeftBottom",e.CARD_LEFT_TOP="cardLeftTop",e.TITLE_RIGHT="titleRight",e.VIDEO_LEFT_BOTTOM="video-leftBottom",e.VIDEO_LEFT_BOTTOM_HORI="video-leftBottom-hori"}(c||(c={})),function(e){e.NORMAL="normal",e.SMALL="small",e.SMALLER="smaller",e.SIZE70="size-70",e.SIZE69="size-69",e.SIZE60="size-60",e.SIZE75="size-75",e.SIZE65="size-65",e.SIZE58="size-58",e.SIZE50="size-50",e.SIZE40="size-40"}(d||(d={})),function(e){e[e.DOWNLOAD=1]="DOWNLOAD",e[e.H5=2]="H5"}(s||(s={})),(f=u||(u={}))[f.ERROR=0]="ERROR",f[f.RENDER_COMPLETE=1]="RENDER_COMPLETE",function(e){e.VERTICAL_V3="vertical-v3",e.VERTICAL_V2="vertical-v2",e.VERTICAL_V1="vertical-v1",e.HORIZONTAL_V1="horizontal-v1",e.VERTICAL_V4="vertical-v4",e.HORIZONTAL_V2="horizontal-v2",e.VERTICAL_V5="vertical-v5",e.VERTICAL_DRAW_V1="vertical-draw-v1",e.VERTICAL_V6="vertical-v6",e.VERTICAL_V7="vertical-v7",e.HORIZONTAL_V3="horizontal-v3",e.VERTICAL_V8="vertical-v8",e.HORIZONTAL_V4="horizontal-v4",e.LAYER_PDD="layer-pdd"}(p||(p={})),function(e){e[e.VIDEO=1]="VIDEO",e[e.IMAGE=2]="IMAGE"}(E||(E={})),function(e){e[e.STREAM=1]="STREAM",e[e.CARD=2]="CARD"}(_||(_={})),function(e){e[e.ING=2]="ING",e[e.STOP=3]="STOP",e[e.HAS_DOWNLOAD=5]="HAS_DOWNLOAD",e[e.HAS_INSTALL=6]="HAS_INSTALL"}(m||(m={}));var L,y,b,R,h,D,x,P,S,w,M,K,k="https://p1-lm.adkwai.com/kos/nlav11213/assets/udata/h5_default_icon.png",U="可爱的广告君";!function(e){e[e.CLICK_CLOSE=1]="CLICK_CLOSE",e[e.STRONG_PATCH_AD_CLOSE=10]="STRONG_PATCH_AD_CLOSE"}(L||(L={})),function(e){e[e.DEFAULT_CARD=0]="DEFAULT_CARD",e[e.JOINT_CARD=1]="JOINT_CARD",e[e.ADVERTISER_CARD=2]="ADVERTISER_CARD"}(y||(y={})),function(e){e[e.UNKNOWN_FORM_TYPE=0]="UNKNOWN_FORM_TYPE",e[e.CLUE_FORM=1]="CLUE_FORM",e[e.GIFT_FORM=2]="GIFT_FORM"}(b||(b={})),function(e){e[e.UP=4]="UP",e[e.DOWN=1]="DOWN"}(R||(R={})),function(e){e[e.ACT_STRONG_CARD_IMPRESSION=1101]="ACT_STRONG_CARD_IMPRESSION",e[e.ACT_STRONG_CARD_CLICK=1102]="ACT_STRONG_CARD_CLICK",e[e.ACT_STRONG_CARD_CLOSE=1105]="ACT_STRONG_CARD_CLOSE"}(h||(h={})),function(e){e[e.ACT_LUCKY_MONEY_POPUP_IMPRESSION=12150]="ACT_LUCKY_MONEY_POPUP_IMPRESSION",e[e.ACT_LUCKY_MONEY_POPUP_BUTTON_CLICK=12151]="ACT_LUCKY_MONEY_POPUP_BUTTON_CLICK",e[e.ACT_LUCKY_MONEY_POPUP_CLOSE=12152]="ACT_LUCKY_MONEY_POPUP_CLOSE",e[e.ACT_LUCKY_MONEY_CONFIRM_CLOSE_POPUP_IMPRESSION=12153]="ACT_LUCKY_MONEY_CONFIRM_CLOSE_POPUP_IMPRESSION",e[e.ACT_LUCKY_MONEY_CONFIRM_CLOSE_POPUP_STAY_CLICK=12154]="ACT_LUCKY_MONEY_CONFIRM_CLOSE_POPUP_STAY_CLICK",e[e.ACT_LUCKY_MONEY_CONFIRM_CLOSE_POPUP_CLOSE_CLICK=12155]="ACT_LUCKY_MONEY_CONFIRM_CLOSE_POPUP_CLOSE_CLICK",e[e.ACT_LUCKY_MONEY_PAGE_IMPRESSION=12159]="ACT_LUCKY_MONEY_PAGE_IMPRESSION",e[e.ACT_LUCKY_MONEY_PAGE_BUTTON_CLICK=12160]="ACT_LUCKY_MONEY_PAGE_BUTTON_CLICK",e[e.ACT_LUCKY_MONEY_PAGE_RULE_BUTTON_CLICK=12161]="ACT_LUCKY_MONEY_PAGE_RULE_BUTTON_CLICK",e[e.ACT_LUCKY_MONEY_ERRORS_REPORT_POPUP_IMPRESSION=12162]="ACT_LUCKY_MONEY_ERRORS_REPORT_POPUP_IMPRESSION",e[e.ACT_LUCKY_MONEY_ERRORS_REPORT_POPUP_BUTTON_CLICK=12163]="ACT_LUCKY_MONEY_ERRORS_REPORT_POPUP_BUTTON_CLICK",e[e.ACT_LUCKY_MONEY_ERRORS_REPORT_POPUP_BUTTON_CLOSE=12164]="ACT_LUCKY_MONEY_ERRORS_REPORT_POPUP_BUTTON_CLOSE"}(D||(D={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WHOLE_AGG_PAGE=1]="WHOLE_AGG_PAGE",e[e.AFTER_VIDEO_PAGE=2]="AFTER_VIDEO_PAGE"}(x||(x={})),function(e){e[e.ORDER=395]="ORDER",e[e.FANS=72]="FANS"}(P||(P={})),(K=S||(S={}))[K.UNKNOW=0]="UNKNOW",K[K.WATCH_VIDEO=1]="WATCH_VIDEO",K[K.ACTIVATE_APP=2]="ACTIVATE_APP",K[K.ACTIVATE_H5=3]="ACTIVATE_H5",(M=w||(w={}))[M.AD=1]="AD",M[M.CONTENT=2]="CONTENT",M[M.EC=3]="EC",M[M.CONTENT_PURE=4]="CONTENT_PURE",M[M.CAR=5]="CAR";var B,j,G,F,V,Y,H,W=new Map([[w.AD,"广告"],[w.CONTENT,"内容"],[w.EC,"电商"],[w.CONTENT_PURE,"纯内容"],[w.CAR,"车机"]]);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.UN_KNOWN=0]="UN_KNOWN",e[e.K_CONFIG=1]="K_CONFIG",e[e.USER_CLICK=2]="USER_CLICK",e[e.FEED=3]="FEED",e[e.STAY_DIALOG=4]="STAY_DIALOG"}(B||(B={})),function(e){e[e.LARGE=1]="LARGE",e[e.MIDDLE_LARGE=2]="MIDDLE_LARGE",e[e.MIDDLE=3]="MIDDLE",e[e.SMALL=4]="SMALL"}(j||(j={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.POSITIVE=1]="POSITIVE",e[e.NEVEGATIVE=2]="NEVEGATIVE"}(G||(G={})),function(e){e[e.REDUCTION=1]="REDUCTION",e[e.DISCOUNT=2]="DISCOUNT"}(F||(F={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.NORMAL=1]="NORMAL",e[e.EDGE=2]="EDGE"}(V||(V={})),function(e){e[e.HIDE=0]="HIDE",e[e.SHOW=1]="SHOW"}(Y||(Y={})),function(e){e[e.UNKNOWN_SIZE=0]="UNKNOWN_SIZE",e[e.HORIZONTAL_SCREEN=1]="HORIZONTAL_SCREEN",e[e.VERTICAL_SCREEN=2]="VERTICAL_SCREEN"}(H||(H={}));var J="jinx"===n(34155).env.PUBLIC_PATH;function X(e,t){le("card_error",e,t)}function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"card_info";try{window.weblog.plugins.radar.event({name:e,message:t,event_type:n,src:window.location.href,extra_info:window.weblog.oncallExtra})}catch(e){console.error("radar event error",e)}}function $(e,t){try{window.weblog.plugins.radar.action.start({name:e,extra_info:t})}catch(e){console.error("radar start error",e)}}function Q(e,t,n){try{window.weblog.plugins.radar.action.end({name:e,extra_info:t,result_type:n})}catch(e){console.error("radar end error",e)}}function ee(e,t){J&&(window.collectInfo||(window.collectInfo={}),window.collectInfo[e]=t);try{window.weblog.plugins.radar.event({name:e},{duration:t})}catch(e){console.error("radar collect error",e)}}var te=function(){var e=(0,I.Z)(v().mark((function e(){var t,n,i;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={deviceId:"",appVersion:"3.0.0",appName:"",appId:"",sdkVersion:"",sdkType:0,sdkTypeDesc:""},e.prev=1,e.next=4,Re();case 4:n=e.sent,t.deviceId=null==n?void 0:n.uuid,t.appVersion=null==n?void 0:n.appVersion,t.appName=null==n?void 0:n.appName,t.appId=null==n?void 0:n.appId,t.sdkVersion=null==n?void 0:n.SDKVersion,t.sdkType=null==n?void 0:n.sdkType,i=W.get(null==n?void 0:n.sdkType)||"其他广告类型",t.sdkTypeDesc=i,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),X("getDeviceInfo fail");case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}();function ne(){return(ne=(0,I.Z)(v().mark((function e(){var t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,te();case 4:return t=e.sent,window.weblog.plugins.radar.setDimensions({c_dimension1:t.sdkTypeDesc+t.sdkVersion,c_dimension2:"".concat(t.appName,"_").concat(t.appId),c_dimension3:t.deviceId}),window.weblog.oncallExtra=JSON.stringify([t]),$("impressionRate"),e.abrupt("return",t);case 11:e.prev=11,e.t0=e.catch(1),X("Init Weblogger OncallExtra Failed");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{var n=JSON.parse(window.weblog.oncallExtra),i=n.length;t>0?(n.push(n[i-1]),n[i-1]=z(z({},n[i-1]),e)):n[0]=z(z({},n[0]),e),window.weblog.oncallExtra=JSON.stringify(n)}catch(e){X("Set Weblogger OncallExtra Failed")}}var re,oe,ae=(re=window.location.search.slice(1),oe={},re?((null==re?void 0:re.split("&")).forEach((function(e){var t=e.split("="),n=(0,T.Z)(t,2),i=n[0],r=n[1];oe[i]=r})),oe):oe),le=function(e,t,n){var i,r,o,a;try{var l,c,d=JSON.parse(window.weblog.oncallExtra);o=null==d||null===(l=d[0])||void 0===l?void 0:l.sdkType,a=null==d||null===(c=d[0])||void 0===c?void 0:c.sdkVersion}catch(e){return}if(a&&"0.0.0"!==a&&(!(_e(a,(null===(i=window)||void 0===i?void 0:i.radarReportSDKVersionAd)||"3.3.22")<0&&o===w.AD||_e(a,(null===(r=window)||void 0===r?void 0:r.radarReportSDKVersionContent)||"3.3.27")<0&&o===w.CONTENT)||null==n||!n.isBridgeError)){var s,u=t;"object"===(0,A.Z)(n)&&(null!=n&&n.e&&(n.e=n.e.message),u+=JSON.stringify(n)),"string"==typeof n&&(u+=n);try{s=new Error("log"===ae.env?JSON.stringify({name:t,message:u,event_type:e,src:window.location.href,extra_info:window.weblog.oncallExtra}):u)}catch(e){s=new Error(u)}try{"card_error"===e?window.weblog.plugins.radar.captureException(s):window.weblog.plugins.radar.event({name:t,message:u,event_type:e,src:window.location.href,extra_info:window.weblog.oncallExtra})}catch(s){X("radar failed",s)}}},ce=function(){var e=(0,I.Z)(v().mark((function e(t){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $("logFailRate"),e.prev=1,n={actionType:t.actionType,clickInfo:t.clickInfo},"string"==typeof t.payload?n.payload=t.payload||"{}":n.payload=JSON.stringify(t.payload||{}),t.adTemplate&&(n.adTemplate=t.adTemplate),t.refreshType&&(n.refreshType=t.refreshType),t.clientExtData&&(n.clientExtData=t.clientExtData),console.log(n),i=JSON.stringify(n),r=JSON.stringify(n),"sessionlog"===ae.env&&sessionStorage.setItem(i,r),e.next=11,N.J.log(n);case 11:return e.abrupt("return",e.sent);case 14:e.prev=14,e.t0=e.catch(1),Q("logFailRate"),X("log fail",{isBridgeError:!0});case 18:case"end":return e.stop()}var i,r}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(){var e=navigator.userAgent;return/Android/.test(e)?"Android":/(iPhone|iPad)/.test(e)?"iOS":""}var pe="ios"===ue().toLowerCase(),fe=pe?1:window.devicePixelRatio;function Ce(e,t){var n="rgba(255,80,0,".concat(t,")");if(e.startsWith("rgba")){var i=e.split(",");return i[3]=t+")",i.join()}if(!e||!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e))return n;for(var r=[],o=1;o<7;o+=2)r.push(parseInt("0x"+e.slice(o,o+2),16));return"rgba(".concat(r.join(","),",").concat(t,")")}var Ee=function(e){return se(se({},{SDKVersion:"0.0.0",SDKVersionCode:0,SDKApiVersion:"0.0.0",SDKApiVersionCode:0,sdkType:0,appVersion:"1.0",appName:"",appId:"",globalId:"",eGid:"",deviceSig:"",networkType:"",manufacturer:"",model:"",deviceBrand:"",osType:0,systemVersion:"",osApi:0,language:"",locale:"",uuid:"",screenWidth:window.screen.width,screenHeight:window.screen.height,oaid:"",androidId:"",mac:"",statusBarHeight:0,titleBarHeight:0}),e)},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.0.0",t=arguments.length>1?arguments[1]:void 0;e||(e="0.0.0");for(var n=e.split("."),i=t.split("."),r=0;r<Math.max(n.length,i.length);r++){var o,a,l=Number(null!==(o=n[r])&&void 0!==o?o:0),c=Number(null!==(a=i[r])&&void 0!==a?a:0);if(l>c)return 1;if(l<c)return-1}return 0},me=function(e,t,n){var i,r=document.getElementById(e),o=window.getComputedStyle(r);return o?(i=o.getPropertyValue(t).replace("px",""),i=Number(i),Number.isNaN(i)&&(i=0),i||n):n},Ie=function(e){var t=window.screen.width,n=window.screen.height;return e*Math.min(t,n)/750},ge=function(e){var t=e.materialType,n=e.materialFeature[0],i=n.coverUrl,r=n.materialUrl;return t===E.IMAGE&&r?r:i||""},ve=function(e){try{performance.mark(e)}catch(e){console.warn("performance: nomark")}},Te=n(15671),Ae=n(43144);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e){try{N.J.pageStatus({status:e})}catch(e){X("pageStatus fail",{isBridgeError:!0})}}new(function(){function e(){(0,Te.Z)(this,e),this.events={}}return(0,Ae.Z)(e,[{key:"on",value:function(e,t){return this.events[e]?this.events[e].push(t):this.events[e]=[t],this}},{key:"emit",value:function(e,t){var n=this.events[e];return Array.isArray(n)&&n.forEach((function(e){return e(t)})),this}},{key:"off",value:function(e,t){var n=this.events[e];return Array.isArray(n)&&(this.events[e]=n.filter((function(e){return t!==e}))),this}}]),e}());var ye=function(){var e=(0,I.Z)(v().mark((function e(t){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.J.videoPosition(t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),X("videoPosition fail",{isBridgeError:!0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=(0,I.Z)(v().mark((function e(t){var n,i,r,o,a,l,c,d;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $("getKsAdDataFailRate"),e.prev=1,e.next=4,N.J.getKsAdData(t);case 4:c=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(1),Q("getKsAdDataFailRate"),X("getKsAdData fail",{isBridgeError:!0}),e.abrupt("return",Promise.reject("get getKsAdData fail"));case 12:e.prev=12,c.data.impAdInfo.forEach((function(e,t){var n,i,r;ie({creativeId:null===(n=e.adInfo)||void 0===n||null===(i=n[0])||void 0===i||null===(r=i.adBaseInfo)||void 0===r?void 0:r.createiveId,posId:(null==e?void 0:e.posId)||0},t)})),e.next=20;break;case 16:return e.prev=16,e.t1=e.catch(12),X("Set Weblogger OncallExtra Failed: ",{e:e.t1,getDataRes:c}),e.abrupt("return",Promise.reject("Set Weblogger OncallExtra Failed"));case 20:if((d=null===(n=c)||void 0===n||null===(i=n.data)||void 0===i||null===(r=i.impAdInfo)||void 0===r||null===(o=r.filter((function(e){return null==e?void 0:e.adInfo})))||void 0===o?void 0:o.map((function(e){var t;return Ne(Ne({},null==e||null===(t=e.adInfo)||void 0===t?void 0:t[0]),{},{type:null==e?void 0:e.type,adStyle:null==e?void 0:e.adStyle})}))).length){e.next=24;break}return X("no adInfo Data: ",{e:c}),e.abrupt("return",Promise.reject("no adInfo Data"));case 24:return e.abrupt("return",{adInfo:d,impAdInfo:null===(a=c)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.impAdInfo});case 25:case"end":return e.stop()}}),e,null,[[1,7],[12,16]])})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=(0,I.Z)(v().mark((function e(){var t,n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $("getDeviceInfoFailRate"),e.prev=1,e.next=4,N.J.getDeviceInfo();case 4:return t=e.sent,n=Ee(t.data),e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(1),Q("getDeviceInfoFailRate"),X("getDeviceInfo fail",{isBridgeError:!0});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),he=function(e){var t=e.unlog,n=e.area,r=void 0===n?1:n,o=e.e,a=e.payload,l=void 0===a?"{}":a,c=e.adTemplate,d=e.refreshType,s=e.creativeId,u=e.callback,p=e.needReport,f=void 0===p||p,C=e.containerWidth,E=void 0===C?window.screen.width:C,_=e.containerHeight,m=void 0===_?window.screen.height:_,I=e.actionType,g=void 0===I?i.AD_ITEM_CLICK:I,v=e.adStyle,T=void 0===v?0:v;if($("convertRate"),Q("impressionConvertRate"),q("convert"),"true"!==t){var A,O=1===r,L={x:null==o?void 0:o.pageX,y:null==o?void 0:o.pageY,width:E,height:m};A="string"==typeof l?l:JSON.stringify(l);var y={area:r,logParam:{actionType:g,clickInfo:L,payload:A,refreshType:d},needReport:f};c&&(y.adTemplate=c),s&&(y.creativeId=s),T&&(y.adStyle=T),N.J.clickAction(y).then((function(){u&&u(),Q("convertRate"),q("convert_success")})).catch((function(e){var t={clickInfo:L,payload:A,clickActionButton:O,callback:u,actionType:g};c&&(t.adTemplate=c),d&&(t.refreshType=d),De(t),q("convert_error")}))}},De=function(e){var t=e.clickInfo,n=e.payload,r=e.clickActionButton,o=e.adTemplate,a=e.refreshType,l=e.callback,c=e.actionType,d=void 0===c?i.AD_ITEM_CLICK:c;ce({actionType:d,clickInfo:t,payload:n,adTemplate:o,refreshType:a}),function(e){try{N.J.convert(e)}catch(e){X("convert fail",{isBridgeError:!0})}}({clickActionButton:r,adTemplate:o}),l&&l()},xe=function(){var e=(0,I.Z)(v().mark((function e(t){var n,i,r,o,a,l,c,d;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.height,i=void 0===n?0:n,r=t.leftMargin,o=void 0===r?0:r,a=t.rightMargin,l=void 0===a?0:a,c=t.bottomMargin,d=void 0===c?0:c,$("initKsAdFrameFailRate"),e.prev=2,e.next=5,N.J.initKsAdFrame({height:i,leftMargin:o,rightMargin:l,bottomMargin:d});case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(2),Q("initKsAdFrameFailRate"),X("initKsAdFrame fail",{isBridgeError:!0}),Le(u.ERROR);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),Pe=[],Se=function(e){var t,n=e.el,i=void 0===n?document.querySelector("body"):n,r=e.slideClick,o=void 0!==r&&r,l=e.cb,c=void 0===l?function(e,t){}:l,d=e.minLength,s=void 0===d?1:d,u=e.forTappableEl,p={x:0,y:0},f=c;function C(e){e.stopPropagation(),p.x=e.changedTouches[0].pageX,p.y=e.changedTouches[0].pageY,t=e.changedTouches[0]}function E(e){e.stopPropagation();var n=Math.abs(e.changedTouches[0].pageX-p.x),i=Math.abs(e.changedTouches[0].pageY-p.y);if(e.touchStartInfo=t,n>s||i>s){console.warn("滑动点击");var r={item_click_type:a.CAED_SKIDE_CLICK};o&&c(e,r)}else console.warn("点击事件"),f(e)}return void 0!==u&&u&&(f=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.target||e.currentTarget;try{for(;i;)i.getAttribute&&(t=i.getAttribute("itemclicktype")),i=t?null:i.parentNode?i.parentNode:null}catch(e){X("click parse target error:",{e:e})}t&&(n.item_click_type=t),c(e,n)}),!1===o?i.addEventListener("click",f,!1):(i.addEventListener("touchstart",C,!1),i.addEventListener("touchend",E,!1)),function(){!1===o?i.removeEventListener("click",f,!1):(i.removeEventListener("touchstart",C,!1),i.removeEventListener("touchend",E,!1))}},we=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null===(e=t.adStyleInfo)||void 0===e?void 0:e.slideClick,r=function(e,t){var r,o,l,c,d=e.target||e.currentTarget;try{for(;d;)d.getAttribute&&(r=d.getAttribute("itemclicktype"),o=d.getAttribute("actiontype"),l=d.getAttribute("unconvert"),c=d.getAttribute("unlog")),d=r||o?null:d.parentNode?d.parentNode:null}catch(e){X("click parse target error:",{err:e})}var s=(r=Number(r)||a.BLANK_AREA_CLICK)===a.CARD_ACTION_BAR_CLICK||r===a.PLAYEND_ACTION_BAR_CLICK||r===a.ACTION_BAR_CLICK||r===a.PLAY_END_CALL_CLICK;if(n&&null!=t&&t.item_click_type&&(r=t.item_click_type),!c)if(!l||s){var u=s?1:2;he({e:e,payload:JSON.stringify({itemClickType:r}),area:u})}else if(r)try{"object"===(0,A.Z)(JSON.parse(r))?ce({actionType:Number(o)||i.AD_ITEM_CLICK,payload:r,clickInfo:{x:e.pageX,y:e.pageY}}):ce({actionType:Number(o)||i.AD_ITEM_CLICK,payload:JSON.stringify({itemClickType:Number(r)||a.BLANK_AREA_CLICK}),clickInfo:{x:e.pageX,y:e.pageY}})}catch(e){ce({actionType:Number(o)||i.AD_ITEM_CLICK,payload:JSON.stringify({itemClickType:Number(r)||a.BLANK_AREA_CLICK}),clickInfo:{x:e.pageX,y:e.pageY}})}else ce({actionType:Number(o)||i.AD_ITEM_CLICK,payload:"{}",clickInfo:{x:e.pageX,y:e.pageY}})};Se({cb:r,slideClick:n})},Me=function(){var e=(0,I.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.J.getKsAdExtraData();case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),X("getKsAdExtraData fail",{isBridgeError:!0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=(0,I.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){N.J.registerLifecycleListener({success:function(t){e(t.data)},error:function(e){t(e)}})})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=(0,I.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $("getContainerLimitFailRate"),e.prev=1,e.next=4,N.J.getContainerLimit();case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(1),Q("getContainerLimitFailRate"),X("getContainerLimit fail",{isBridgeError:!0});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=(0,I.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.J.getContainerPureLimit();case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,ke();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Be={"content-banner":"bottomBannerInfo","ad-union-video-banner":"actionBarInfo","ad-union-video-black-style":"fullPageActionBarInfo","ad-union-mini-card":"miniCardInfo","ad-union-video-draw":"actionBarInfo","ad-union-end-card":"endCardInfo","ad-union-interstitial":"interstitialCardInfo","ad-union-feed-template":"feedInfo","ad-union-pre-end":"halfCardInfo","ad-union-stimulate-video-page":"actionBarInfo","ad-union-stimulate-end-page":"endCardInfo","ad-union-interactive":"interactionInfo","content-incentive-end-card":"endCardInfo","ad-union-middle-page":"halfCardInfo","ad-union-download-popup":"complianceCardInfo","ad-union-download-confirm":"downloadConfirmCardInfo","content-end-page":"endCardInfo","content-form-start-v2":"actionBarInfo","content-form-end-v2":"endCardInfo","content-interstitial-card-v2":"interstitialCardInfo","content-video-draw":"actionBarInfo","content-video-end-card":"actionBarInfo","ad-union-stimulate-aggregation":"aggregationCardInfo","ad-union-onemore-end-card":"rewardWatchOnceInfo","ad-union-video-action-bar":"actionBarInfo","ad-union-video-action-bar-times":"actionBarInfo","ad-union-video-action-layout-big":"actionBarInfo","ad-union-video-action-layout-sam":"actionBarInfo","ad-union-live-order-top-avatar":"merchantLiveReservationInfo","ad-union-live-order-left-avatar":"merchantLiveReservationInfo","ad-union-live-order-small-button":"merchantLiveReservationInfo","ad-union-stimulate-backflow":"reflowInfo"},je=n(35776);function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ve=function(e){var t,n,i,r,o,a,l,c,d,u,p,f,C,E,_,m,I,g,v,T,A,O,N,L,y,b,R,h,D,x=e.styleInfoType,P=e.adBaseInfo,S=e.adInsertScreenInfo,w=e.adMaterialInfo,M=e.advertiserInfo,K=e.adConversionInfo,B=e.adStyleInfo,j=e.isPorttrait,G=void 0===j||j,F=e.containerWidth,V=void 0===F?0:F,H=e.containerHeight,W=void 0===H?0:H,Z=e.adapterTopHeight,z=void 0===Z?0:Z,J=e.deviceInfo,X=e.downloadSafeInfo,q=e.unDownloadConf,$=e.type,Q=e.adMatrixInfo,ee=e.materialFeature,te=e.adProductInfo,ne=void 0===te?{}:te,ie=e.isGetEcInfo,re=void 0!==ie&&ie,oe=e.ocpcActionType,ae=e.adStyle,le=Xe({adMatrixInfo:Q,styleInfoType:x}),ce=re?Qe({adProductInfo:ne,matrixData:le}):{},de=null==P?void 0:P.appName,se=null==M?void 0:M.rawUserName,ue=null==M?void 0:M.userName,fe=null==M?void 0:M.portraitUrl,Ce=null==P?void 0:P.productName,Ee=null==P?void 0:P.appIconUrl,_e=null==P?void 0:P.expParam,me=null==P?void 0:P.extraClickReward;try{R=JSON.parse(_e)}catch(e){R=_e}var Ie=$e(le,"isDownload",Number(null==P?void 0:P.adOperationType)===s.DOWNLOAD);h=$e(le,"adTitle",Ie?de||se||U:Ce||se||U),D=$e(le,"adAppUrl",Ie?Ee||fe||"https://p1-lm.adkwai.com/kos/nlav11213/assets/udata/download_default_icon.png":fe||k),b=fe||k;var ve=1===Number(null==w?void 0:w.materialType),Te=null==w||null===(t=w.materialFeature)||void 0===t?void 0:t[0],Ae=null==Te?void 0:Te.materialSize,Oe=$e(le,"isVerticalMaterial",(null==Ae?void 0:Ae.width)<(null==Ae?void 0:Ae.height)),Ne=Oe?"SHU":"HENG",Le="".concat(G?"SHU":"HENG","_SCREEN_").concat(Ne,"_VERSION");try{"string"==typeof B&&(B=JSON.parse(B))}catch(e){B=B}var ye,be,Re=null===(n=B)||void 0===n||null===(i=n.playEndInfo)||void 0===i||null===(r=i.adWebCardInfo)||void 0===r?void 0:r.typePortrait,he=null===(o=B)||void 0===o||null===(a=o.playEndInfo)||void 0===a||null===(l=a.adWebCardInfo)||void 0===l?void 0:l.typeLandscape,De=null===(c=B)||void 0===c||null===(d=c.playDetailInfo)||void 0===d||null===(u=d.detailWebCardInfo)||void 0===u?void 0:u.typeLandscape,xe=null===(p=B)||void 0===p||null===(f=p.playDetailInfo)||void 0===f||null===(C=f.detailWebCardInfo)||void 0===C?void 0:C.typePortrait,Pe=$e(le,"exposeTagInfoList",null===(E=B)||void 0===E||null===(_=E.extraDisplayInfo)||void 0===_?void 0:_.exposeTagInfoList),Se=null===(m=B)||void 0===m||null===(I=m.playEndInfo)||void 0===I||null===(g=I.adWebCardInfo)||void 0===g?void 0:g.cardData,we={adActionDescription:null==Se?void 0:Se.leftButtonText,installAppLabel:(null==P?void 0:P.installAppLabel)||"立即安装",openAppLabel:(null==P?void 0:P.openAppLabel)||"立即打开"},Me=$e(le,"texts",{adActionDescription:(null==P?void 0:P.adActionDescription)||(Ie?"立即下载":"点我试玩"),installAppLabel:(null==P?void 0:P.installAppLabel)||"立即安装",openAppLabel:(null==P?void 0:P.openAppLabel)||"立即打开"}),Ke=$e(le,"appScore",Number(null==P?void 0:P.appScore)||0),ke=$e(le,"appDownloadCountDesc",null==P?void 0:P.appDownloadCountDesc),Ue=$e(le,"adActionBarColor",null==P?void 0:P.adActionBarColor),Be=J.SDKVersion,je=J.sdkType,Ge=J.SDKVersionCode,Ve=J.screenWidth,Ye=J.screenHeight,He=J.systemVersion,We=(ye=(null==K?void 0:K.playableUrl)||"",be=ye,new RegExp(/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&=]*)?/).test(be)?null==K?void 0:K.playableUrl:""),Ze=(null==K||null===(v=K.playableStyleInfo)||void 0===v?void 0:v.playableOrientation)||0,ze=(null==K?void 0:K.h5Type)||0,Je=null==P?void 0:P.appImageUrl,qe=null==P?void 0:P.appImageSize;(!Array.isArray(Je)||Array.isArray(Je)&&!Je.length)&&(Je=[null==ee?void 0:ee.coverUrl],qe=null==ee?void 0:ee.materialSize);var et=(null==Te?void 0:Te.coverUrl)||(ve?null==Te?void 0:Te.firstFrame:null==Te?void 0:Te.materialUrl),tt=(null==le?void 0:le.adDescription)||(null==P?void 0:P.adDescription),nt=null==P?void 0:P.appDescription;nt=nt?nt.replace(/\n/g,"<br/>"):tt||"";var it=$e(le,"packageSize",null!=P&&P.packageSize?Number(null==P?void 0:P.packageSize):0);isNaN(it)&&(it=0);var rt=$e(le,"permissionInfo",(null==X?void 0:X.permissionInfo)||"权限信息扫描中");rt=rt&&rt.replace(/\n/g,"<br/>");var ot,at=(null==X||null===(T=X.complianceInfo)||void 0===T?void 0:T.titleBarTextSwitch)||0,lt=$e(le,"apiExpParam",(null==P?void 0:P.apiExpParam)||{apiBreathLamp:0,apiMisTouch:0,apiAdTag:0,tagTip:"即刻体验"}),ct=$e(le,"interactiveStyle",null),dt=$e(le,"shakeInfo",{});return Fe(Fe({adTitle:h,adAppUrl:D,adDescription:$e(le,"adDescription",null==P?void 0:P.adDescription),adActionDescription:Me.adActionDescription,adMarkIcon:null==P?void 0:P.adMarkIcon,adGrayMarkIcon:null==P?void 0:P.adGrayMarkIcon,adSourceDescription:null==P?void 0:P.adSourceDescription,adSourceType:null==P?void 0:P.adSourceType,adIconInfo:(ot=P,{adMarkIcon:ot.adMarkIcon,adSourceDescription:ot.adSourceDescription,adSourceType:ot.adSourceType,adGrayMarkIcon:ot.adGrayMarkIcon}),leftButtonTexts:we,texts:Me,ecPortraitUrl:b,goodsIcon:(null==ne?void 0:ne.icon)||k,goodsName:null==ne?void 0:ne.name,goodsPrice:null==ne?void 0:ne.price,goodsOriginPrice:null==ne?void 0:ne.originPrice,goodsCoupon:null==ne?void 0:ne.coupon,materialUrl:null==Te?void 0:Te.materialUrl,coverUrl:et||"https://p1-lm.adkwai.com/kos/nlav11213/assets/COVER_DEFAULT.jpg",isHasCoverUrl:!!et,videoDuration:(null==Te?void 0:Te.videoDuration)||0,materialFeature:null==w?void 0:w.materialFeature,materialType:null==w?void 0:w.materialType,adActionBarColor:0===Ue.indexOf("#")?Ue:"#".concat(Ue),imgUrl:ge(w),appName:de,appIconUrl:Ee,productName:Ce,appScore:Ke,appDownloadCountDesc:ke,appVersion:$e(le,"appVersion",null==P?void 0:P.appVersion),packageSize:it,appImageUrl:Je,appImageSize:qe,appCategory:null==P?void 0:P.appCategory,appDescription:nt,rawUserName:se,userName:ue,portraitUrl:fe,corporationName:$e(le,"corporationName",null==P?void 0:P.corporationName),isFollowed:null==M?void 0:M.followed,fansCount:null==M?void 0:M.fansCount,brief:null==M?void 0:M.brief,isDownload:Ie,isVideo:ve,isPorttrait:G,isVerticalMaterial:Oe,adStyleSub:Le,isIOS:pe,containerWidth:V,containerHeight:W,adapterTopHeight:z,taskType:null==P?void 0:P.taskType,expParam:R,typePortrait:Re,typeLandscape:he,typePortraitPlayDetail:xe,typeLandscapePlayDetail:De,exposeTagInfoList:Array.isArray(Pe)?Pe.filter((function(e){return e.text})):[],playDetailInfo:null===(A=B)||void 0===A?void 0:A.playDetailInfo,type:$e(le,"type",$),apiExpParam:lt,adStyleInfo:B,cardType:null==Q||null===(O=Q.adDataV2)||void 0===O||null===(N=O.endCardInfo)||void 0===N?void 0:N.cardType,interactiveStyle:ct,shakeInfo:dt,adStyle:ae,SDKVersion:Be,SDKVersionCode:Ge,sdkType:je,screenWidth:Ve,screenHeight:Ye,systemVersion:He,playableUrl:We,playableOrientation:Ze,playableStyle:null!==(L=null==le?void 0:le.playableStyle)&&void 0!==L?L:null===(y=R)||void 0===y?void 0:y.playableStyle,h5Type:ze,downloadSafeInfo:X,unDownloadConf:q,titleBarTextSwitch:at,appPermissionInfoUrl:(null==X?void 0:X.appPermissionInfoUrl)||"",appPrivacyUrl:$e(le,"appPrivacyUrl",(null==X?void 0:X.appPrivacyUrl)||""),permissionInfo:rt,isHidePermissionInfo:!Ie||pe||at===Y.HIDE,creativeId:null==P?void 0:P.creativeId,autoCloseTime:(null==S?void 0:S.autoCloseTime)||0,adMatrixInfo:Q,matrixData:le},ce),{},{userHeadUrl:(null==le?void 0:le.userHeadUrl)||"https://p1-lm.adkwai.com/kos/nlav11213/assets/udata/live_default_icon.png",bookUserCount:null==le?void 0:le.bookUserCount,liveTitle:null==le?void 0:le.title,liveStartTime:null==le?void 0:le.liveStartTime,displayBookCount:null==le?void 0:le.displayBookCount,bookUserUrlList:null==le?void 0:le.bookUserUrlList,displayWeakCard:null==le?void 0:le.displayWeakCard,ocpcActionType:oe,extraClickReward:me})},Ye=function(){var e=(0,I.Z)(v().mark((function e(t,n){var i,r,o,a,l,c,d;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.isGetConfig,r=t.isChangePageStatusWhenFail,o=void 0===r||r,a=t.adConfigMinSDKVersion,l=t.contentConfigMinSDKVersion,c={},d=a&&_e(null==n?void 0:n.SDKVersion,a)>=0&&(null==n?void 0:n.sdkType)===w.AD||l&&_e(null==n?void 0:n.SDKVersion,l)>=0&&(null==n?void 0:n.sdkType)===w.CONTENT,!i&&!d){e.next=15;break}return $("getKsAdConfigFailRate"),e.prev=5,e.next=8,N.J.getKsAdConfig();case 8:c=e.sent,e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(5),o&&(Q("getKsAdConfigFailRate"),X("getKsAdConfig fail",{isBridgeError:!0}),Le(u.ERROR)),e.abrupt("return",{});case 15:return e.abrupt("return",c.data);case 16:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,n){return e.apply(this,arguments)}}(),He=function(){var e=(0,I.Z)(v().mark((function e(t,n){var i,r,o,a,l,c;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null,r=0,o=0,a=0,!t){e.next=21;break}return e.prev=5,l=n?Ue:N.J.getContainerLimit,e.next=9,l();case 9:i=e.sent,c=i&&i.data,o=c.height/fe,r=c.width/fe,n&&(a=(null==c?void 0:c.adapterTopHeight)/fe||0),e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(5),X("".concat(n?"getContainerPureLimit":"getContainerLimit"," fail"),{isBridgeError:!0}),Le(u.ERROR),e.abrupt("return",{containerHeight:o,containerWidth:r,adapterTopHeight:a});case 21:return e.abrupt("return",{containerHeight:o,containerWidth:r,adapterTopHeight:a});case 22:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t,n){return e.apply(this,arguments)}}(),We=function(){var e=(0,I.Z)(v().mark((function e(){var t,n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,e.prev=1,e.next=4,N.J.getScreenOrientation();case 4:n=e.sent,t=n.data.screenOrientation===l.PORTTRAIT,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),X("getScreenOrientation fail",{isBridgeError:!0}),Le(u.ERROR),e.abrupt("return",t);case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),Ze=function(e){var t=e.show,n=e.info,i=e.infoList,r=e.deviceInfo,o=e.extraData,a=e.impAdInfo,l=e.configData;if(t){var c=!1;N.J.registerLifecycleListener({success:function(e){if("showEnd"===e.data.lifeStatus&&!c){c=!0,t({isIOS:pe,info:n,infoList:i,deviceInfo:r,extraData:o,impAdInfo:a,configData:l});try{q("impression_success"),$("impressionConvertRate"),Q("impressionRate")}catch(e){console.log("自定义埋点失败",e)}}}})}},ze=function(){var e=(0,I.Z)(v().mark((function e(t){var n,i,r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.isChangePageStatusWhenFail,i=void 0===n||n,r=Ee({}),e.prev=2,e.next=5,Re();case 5:r=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),i&&X("getDeviceInfo failed"),e.abrupt("return",r);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),Je=function(e){var t=e.component,n=e.renderSuccess,i=e.info,r=e.infoList,o=e.adData,a=e.configData,l=e.root,c=e.impAdInfo,d=e.extraData,s=t;try{var p=je.default.createElement(s,{info:i,infoList:r,adData:o,configData:a,impAdInfo:c,extraData:d});(0,je.render)(p,l,(function(){!function(){try{window.weblog.plugins.radar.fmp()}catch(e){console.error("radar fmp error",e)}}(),n?n({info:i,infoList:r,configData:a}):Le(u.RENDER_COMPLETE),q("impression"),performance.now(),ve("renderEnd"),window.addEventListener("load",(function(){try{var e=window.performance.timing,t=e.responseStart-e.requestStart,n=e.responseStart-e.fetchStart,i=e.domContentLoadedEventEnd-e.fetchStart,r=e.loadEventStart-e.fetchStart,o=performance.measure("fetchBridgeCost","fetchBridgeStart","fetchBridgeEnd").startTime,a=performance.measure("bridgeInitCost","initBridgeStart","fetchBridgeStart").duration,l=performance.measure("fetchBridgeCost","fetchBridgeStart","fetchBridgeEnd").duration,c=performance.measure("showCost","fetchBridgeEnd","renderEnd").duration,d=o+l+c;ee("c_init耗时",o),ee("c_birdgeInit耗时",a),ee("c_birdge耗时",l),ee("c_render耗时",c),ee("c_total耗时",d),ee("c_ttfb",t),ee("c_首字节",n),ee("c_domReady",i),ee("c_同步资源加载耗时",r)}catch(e){console.warn("performance: nomrak",e)}}))}))}catch(e){return console.error(e),X("render fail: ",{e:e}),void Le(u.ERROR)}},Xe=function(e){var t,n,i,r,o=e.adMatrixInfo,a=e.styleInfoType,l=((null==o||null===(t=o.adDataV2)||void 0===t?void 0:t[a])||{}).templateId,c=void 0===l?"":l,d=(null==o||null===(n=o.adDataV2)||void 0===n?void 0:n.templateDatas)||[],s=(null==d||null===(i=d.find((function(e){return(null==e?void 0:e.templateId)===c})))||void 0===i?void 0:i.data)||"{}";try{r=JSON.parse(s)}catch(e){r={}}return r},qe=function(){var e=(0,I.Z)(v().mark((function e(t){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{});case 2:return e.next=4,Me();case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$e=function(e,t,n){return void 0!==(null==e?void 0:e[t])&&null!==(null==e?void 0:e[t])&&""!==(null==e?void 0:e[t])?null==e?void 0:e[t]:n},Qe=function(e){var t,n,i=e.adProductInfo,r=e.matrixData,o={};o.ecTitle=$e(r,"name",null==i?void 0:i.name),o.ecIcon=$e(r,"icon",null==i?void 0:i.icon),o.originPrice=$e(r,"originPrice",null==i?void 0:i.originPrice),o.price=$e(r,"price",null==i?void 0:i.price),o.volume=$e(r,"volume",null==i?void 0:i.volume),o.rating=$e(r,"rating",null==i?void 0:i.rating),o.couponList=$e(r,"couponList",null==i?void 0:i.couponList);var a=["startFetchTime","endFetchTime","leftFetchTime"],l=null===(t=o.couponList)||void 0===t?void 0:t[0];for(var c in l)a.indexOf(c)>-1&&(l[c]=Number(l[c]));return Fe(Fe({},o),null===(n=o.couponList)||void 0===n?void 0:n[0])},et=function(){var e=(0,I.Z)(v().mark((function e(t){var n,i,r,o,a,l,c,d,s,p,f,C,E,_,m,I,g,A,O,L,y,b,R,h,D,x,P,S;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,i=t.show,r=t.component,o=t.renderSuccess,a=t.root,l=void 0===a?document.getElementById("app"):a,c=t.adType,d=t.isGetConfig,s=t.isGetContainerInfo,p=t.isGetKsAdExtraData,f=t.isChangePageStatusWhenFail,C=void 0===f||f,E=t.isGetEcInfo,_=t.isPureContainer,m=void 0!==_&&_,I=t.adConfigMinSDKVersion,g=t.contentConfigMinSDKVersion,q("preload"),ve("initBridgeStart"),N.J.config({debug:!0,handler:"callAdBridge"}),function(){ne.apply(this,arguments)}(),ve("fetchBridgeStart"),A=Be[n],e.next=8,He(s,m);case 8:return O=e.sent,L=O.containerHeight,y=O.containerWidth,b=O.adapterTopHeight,e.next=14,Promise.all([ze({isChangePageStatusWhenFail:C}),We(),qe(p)]);case 14:return R=e.sent,h=(0,T.Z)(R,3),D=h[0],x=h[1],P=h[2],e.next=21,Ye({isGetConfig:d,isChangePageStatusWhenFail:C,adConfigMinSDKVersion:I,contentConfigMinSDKVersion:g},D);case 21:S=e.sent,be(n).then((function(e){var t=e.adInfo,n=e.impAdInfo,a=t.map((function(e){var t=e.adBaseInfo,n=e.adInsertScreenInfo,i=void 0===n?{}:n,r=e.adMaterialInfo,o=e.advertiserInfo,a=e.adStyleInfo,l=e.adConversionInfo,c=e.downloadSafeInfo,d=e.unDownloadConf,s=e.type,u=e.adMatrixInfo,p=void 0===u?{}:u,f=e.materialFeature,C=e.ocpcActionType,_=e.adProductInfo,m=void 0===_?{}:_,I=e.adStyle;return Ve({styleInfoType:A,adBaseInfo:t,adInsertScreenInfo:i,adMaterialInfo:r,advertiserInfo:o,adStyleInfo:a,isPorttrait:x,containerHeight:L,containerWidth:y,adConversionInfo:l,deviceInfo:D,downloadSafeInfo:c,unDownloadConf:d,type:s,adMatrixInfo:p,materialFeature:f,adProductInfo:m,isGetEcInfo:E,ocpcActionType:C,adapterTopHeight:b,adStyle:I})}));console.log(c,"multi"===c?a:a[0],"info============="),ve("fetchBridgeEnd"),Ze({show:i,info:a[0],infoList:a,deviceInfo:D,extraData:P,impAdInfo:n,configData:S}),Je({component:r,renderSuccess:o,info:a[0],infoList:a,adData:t,configData:S,root:l,adType:c,impAdInfo:n,extraData:P})})).catch((function(e){Le(u.ERROR)}));case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=("ios"===ue().toLowerCase()||window.devicePixelRatio,function(e,t,n){return e&&t?n.firstFrame||n.coverUrl||"":e?"":n.materialUrl}),nt=function(e){var t=document.getElementById(e),n=Number(window.getComputedStyle(t).height.replace("px","")),i=Number(window.getComputedStyle(t).width.replace("px",""));return Number.isNaN(n)&&(n=t.scrollHeight),{width:i,height:n}},it=function(e){var t=e.padding.split(" ");return{top:parseInt(t[0],10),right:parseInt(t[1],10),bottom:parseInt(t[2],10),left:parseInt(t[3],10),width:parseInt(t[1],10)+parseInt(t[3],10),height:parseInt(t[0],10)+parseInt(t[2],10)}},rt=function(e,t){var n;return{imgWidth:n=e-it(t.box).width-it(t.img).width,imgHeight:Number((9*n/16).toFixed(3))}},ot=function(e){var t=document.getElementById(e);return!!(nt(e).width>Number(t.getAttribute("contentwidth")))},at=function(e){var t=document.getElementById(e);return Number(t.getAttribute("textheight"))},lt=function(e){var t,n,i=e.info,r=null==i||null===(t=i.adStyleInfo)||void 0===t?void 0:t.feedAdInfo,o=null===(n=r)||void 0===n?void 0:n.templateConfig,a="string"==typeof o?o.trim():o;if("object"===(0,A.Z)(r)&&a)try{Object.keys(r).forEach((function(e){var t=r[e];"string"==typeof t&&(r[e]=JSON.parse(t))}))}catch(e){r=null}else r=null;return r},ct=function(e){var t=e.styleConf;return je.default.createElement("div",{className:"close-postion",actiontype:i.AD_ITEM_CLOSE,onClick:function(){return N.J.dislike().catch((function(e){X("call dislike fail: ",{e:e})}))},unconvert:"true",style:t})},dt=function(e){var t=e.iconInfo,n=e.withoutBg,i=n?"gray":"white",r=t.adGrayMarkIcon||t.adMarkIcon?n?t.adGrayMarkIcon:t.adMarkIcon:"";return t.adSourceDescription||r?je.default.createElement("div",{className:"ad-union-icon ".concat(i)},je.default.createElement("div",{className:"align"},r&&je.default.createElement("div",{style:{background:"url(".concat(r,")"),width:12,height:12,backgroundSize:"cover",marginRight:t.adSourceDescription?4:0}}),je.default.createElement("div",{className:"".concat(i)},t.adSourceDescription))):je.default.createElement("div",{className:"ad-union-icon ".concat(i)},je.default.createElement("div",{className:"align"},je.default.createElement("div",{className:n?"iconGray":"iconWhite"}),je.default.createElement("div",{className:n?"gray":"white"},"广告")))},st=function(e){var t=e.info,n=e.styleConfig,i=e.imgHeight,r=e.isCompatibleStyle,o=e.iconInfo,l=e.children,c=t.materialUrl;return(0,je.useEffect)((function(){r&&(document.getElementById("box").style.height="100%")}),[]),je.default.createElement("div",{className:"box text-float",style:n.box,id:"box"},je.default.createElement("div",{className:"card-box",style:n.img,id:"cardBox"},je.default.createElement("div",{className:"img-wrap",style:{height:i+"px"},id:"imgBox",itemclicktype:a.COMMENT_PICTURE_CLICK},je.default.createElement("div",{className:"ad-position",style:n.adPosition,itemclicktype:a.BLANK_AREA_CLICK},je.default.createElement(dt,{iconInfo:o})),c&&je.default.createElement("img",{className:"img",src:t.materialUrl,style:{borderRadius:n.img.borderRadius,height:i+"px"}}),!c&&je.default.createElement("div",{className:"no-img-wrap"},"内容走丢了…"),je.default.createElement("div",{className:"bottom-box"},je.default.createElement("div",{className:"flex-box"},je.default.createElement("div",{className:"content",style:n.content,itemclicktype:a.COMMENT_DETAIL_CLICK},t.adDescription),je.default.createElement(ct,{styleConf:n.closePosition}))))),l)};function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ft=function(e){var t=e.totalBytes,n=e.progress,i=e.status,r=e.btnText,o=t/1e3/1e3,a="（".concat((o*n).toFixed(2),"M/").concat(o.toFixed(2),"M）");return 2!==i&&3!==i||(r="".concat(a)),r};function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _t="#fe3666",mt=function(e){var t=e.itemclicktype,n=e.texts,i=void 0===n?{adActionDescription:"",openAppLabel:"",installAppLabel:""}:n,r=e.backgroundColor,o=void 0===r?_t:r,l=e.isDownload,c=void 0!==l&&l,d=e.extraClass,s=void 0===d?"":d,u=e.extraChildClass,p=void 0===u?"":u,f=e.buttonAnimation,C=void 0===f?"static":f,E=e.animationDelay,_=void 0===E?0:E,m=e.isWatering,I=void 0!==m&&m,g=e.wateringStyle,v=void 0===g?{}:g,A=e.downloadingFormat,O=void 0===A?"T...%":A,L=e.downloadPauseFormat,y=void 0===L?"T%":L,b=e.stimulateText,R=e.onClick,h=e.creativeId,D=e.isMulti,x=void 0!==D&&D,P=e.progressBackgroundColor,S=e.style,w=e.unlog,M=e.getStatus,K=(0,je.useRef)(),k=(0,je.useState)([]),U=(0,T.Z)(k,2),B=U[0],j=U[1],G=(0,je.useState)(!!b),F=(0,T.Z)(G,2),V=F[0],Y=F[1],H=(0,je.useState)(!1),W=(0,T.Z)(H,2),Z=W[0],z=W[1],J=(0,je.useState)(""),X=(0,T.Z)(J,2),q=X[0],$=X[1],Q=P||(null==v?void 0:v.rightColor)||_t;(0,je.useEffect)((function(){I&&j([me("button","width",128),me("button","height",44)]),b&&N.J.rewardTaskStatus().then((function(e){1===e.data.taskStatus&&(z(!0),$(c?"打开App":"查看详情"))})).catch((function(e){console.error("call rewardTaskStatus failed",{e:e})}))}),[]);var ee={texts:i,isDownload:c};I&&(ee.watering={canvas:K,styles:{width:B[0],height:B[1],fontSize:v.fontSize||12,fontWeight:v.fontWeight||400,rightColor:(null==v?void 0:v.rightColor)||o||_t,leftColor:(null==v?void 0:v.leftColor)||_t}}),O&&(ee.downloadingFormat=O),y&&(ee.downloadPauseFormat=y),h&&(ee.creativeId=h),x&&(ee.isMulti=x);var te=function(e){var t=e.texts,n=e.isDownload,i=e.downloadingFormat,r=void 0===i?"T...%":i,o=e.downloadPauseFormat,a=void 0===o?"T%":o,l=e.watering,c=e.creativeId,d=e.isMulti,s=void 0!==d&&d,u=(0,je.useState)({status:0,progress:0,totalBytes:0}),p=(0,T.Z)(u,2),f=p[0],C=p[1],E=f.status,_=f.progress,m="",I=2===E||3===E;(0,je.useEffect)((function(){if(n){var e={success:function(e){C(e.data)}};c&&(e.creativeId=c),s&&(e.isMulti=s),function(e){var t=e.creativeId,n=e.success,i=e.isMulti,r=void 0!==i&&i;Pe.push({creativeId:t,success:n}),r?N.J.registerMultiProgressListener({creativeId:t,success:function(e){Pe.forEach((function(t){var n,i=t.creativeId,r=t.success;if((null==e||null===(n=e.data)||void 0===n?void 0:n.creativeId)===i)return r(e)}))}}):N.J.registerProgressListener({success:function(e){Pe.forEach((function(t){return(0,t.success)(e)}))}})}(e)}else!function(e,t){e.adActionDescription}(t)}),[]);var g=Number((100*_).toFixed(0))>100?"100":(100*_).toFixed(0);if(n){switch(E){case 0:case 1:case 4:m=t.adActionDescription||"立即下载";break;case 2:m="下载中...".concat(g,"%");break;case 3:m="继续下载";break;case 5:m=t.installAppLabel||"立即安装";break;case 6:m=t.openAppLabel||"立即打开"}if(2===E||3===E){var v={T:2===E?"下载中":3===E?"继续下载":m,"%":" ".concat(g,"% "),MB:ft(pt(pt({},f),{},{btnText:m}))};if(m=(2===E?r:a).replace(/T|%|MB/g,(function(e){return v[e]||""})),l){var A=null==l?void 0:l.styles;!function(e,t,n,i){var r=e.current;if(r){r.width=2*i.width,r.height=2*i.height;var o=2*(i.fontSize||15),a=r.width,l=r.height,c=a*t,d=a/2,s=l/2+1,u=r.getContext("2d");u.font="normal normal ".concat(i.fontWeight," ").concat(o,"px Arial"),u.textAlign="center",u.textBaseline="middle",u.clearRect(0,0,c,l),u.clearRect(c,0,a,l),u.save(),u.beginPath(),u.rect(c,0,a,l),u.clip(),u.fillStyle=null==i?void 0:i.rightColor,u.fillText(n,d,s),u.restore(),u.save(),u.beginPath(),u.rect(0,0,c,l),u.clip(),u.fillStyle=i.leftColor,u.fillText(n,d,s),u.restore()}}(null==l?void 0:l.canvas,_,m,{width:null==A?void 0:A.width,height:null==A?void 0:A.height,fontSize:null==A?void 0:A.fontSize,fontWeight:(null==A?void 0:A.fontWeight)||400,rightColor:null==A?void 0:A.rightColor,leftColor:null==A?void 0:A.leftColor})}}}else m=t.adActionDescription||"点我试玩";return pt(pt({},f),{},{btnText:m,downloadProgress:g,isDownloading:I})}(ee),ne=te.btnText,ie=te.isDownloading,re=te.progress,oe=te.status;return M&&M({btnText:ne,isDownloading:ie,progress:re,status:oe}),(0,je.useEffect)((function(){Y(!(!b||ie||Z))}),[oe,Z]),je.default.createElement("div",{id:"button",className:"".concat(C,"-button button ").concat(s),itemclicktype:t||a.CARD_ACTION_BAR_CLICK,unlog:w||"",style:Et({animationDelay:"".concat(String(_),"s"),WebkitAnimationDelay:"".concat(String(_),"s")},S),buttondetail:q||ne,onClick:function(e){return R&&R(e)}},(!c||!ie||!I)&&je.default.createElement("div",{className:"wrap ".concat(p),style:{backgroundColor:o}},je.default.createElement("div",{className:"btn-text normal-text ".concat(V?"text-animation":"static")},q||ne),V&&je.default.createElement("div",{className:"btn-text stimulate-text text-animation"},b)),I&&je.default.createElement("div",{className:"wrap ".concat(p),style:{backgroundColor:Ce(Q,.5)}},je.default.createElement("div",{className:"progress-bar",style:{width:100*re+"%",backgroundColor:Q}}),je.default.createElement("canvas",{ref:K,className:"canvas"})))};function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vt=function(e){var t=e.info,n=e.styleConf,i=e.bgColor,r=e.extraClass,o=void 0===r?"":r,l=e.textColor,c=e.buttonAnimation,d=void 0===c?"":c,s=e.itemclicktype,u=void 0===s?a.ACTION_BAR_CLICK:s,p=(0,je.useState)(!0),f=(0,T.Z)(p,2),C=f[0],E=f[1];return je.default.createElement(mt,{style:gt(gt({},n),{},{color:C?l||n.color:"#fff",border:C?"1px solid ".concat(n.color):"none"}),extraClass:"button-feed ".concat(o),texts:t.texts,buttonAnimation:d.toLocaleLowerCase(),backgroundColor:C?i:n.color,isDownload:t.isDownload,downloadPauseFormat:"T",downloadingFormat:"%",isWatering:!0,progressBackgroundColor:null==n?void 0:n.color,wateringStyle:{leftColor:"#fff",rightColor:"#fff"},getStatus:function(e){var t=e.status;E([0,1,4].indexOf(t)>-1)},itemclicktype:u})},Tt=function(e){var t=e.info,n=e.styleConfig,i=e.iconInfo,r=e.children,o=e.buttonAnimation,l=void 0===o?"":o;return je.default.createElement("div",{className:"horizontal-wrapper"},je.default.createElement("div",{className:"box left-text-right-img",style:n.box,id:"box"},je.default.createElement("div",{className:"flex-wrap"},je.default.createElement("div",{className:"left-box"},je.default.createElement("div",{className:"content",style:n.content,itemclicktype:a.COMMENT_DETAIL_CLICK},t.adDescription),je.default.createElement("div",{className:"bottom-box"},je.default.createElement(vt,{info:t,styleConf:n.buttonPosition,buttonAnimation:l,bgColor:"#fff"}),je.default.createElement(ct,{styleConf:n.closePosition}))),je.default.createElement("div",{className:"right-box",style:n.img,itemclicktype:a.COMMENT_PICTURE_CLICK},je.default.createElement("div",{className:"ad-position-box",style:n.img},je.default.createElement("div",{style:n.adPosition,itemclicktype:a.BLANK_AREA_CLICK},je.default.createElement(dt,{iconInfo:i}))),je.default.createElement("img",{className:"img",src:t.materialUrl,style:{borderRadius:n.img.borderRadius}}))),r))},At=function(e){var t=e.info,n=e.styleConfig,i=e.iconInfo,r=e.children,o=e.buttonAnimation,l=void 0===o?"":o;return je.default.createElement("div",{className:"horizontal-wrapper"},je.default.createElement("div",{className:"box left-img-right-text",style:n.box,id:"box"},je.default.createElement("div",{className:"flex-wrap"},je.default.createElement("div",{className:"left-box",style:n.img,itemclicktype:a.COMMENT_PICTURE_CLICK},je.default.createElement("div",{className:"ad-position-box",style:n.img},je.default.createElement("div",{style:n.adPosition,itemclicktype:a.BLANK_AREA_CLICK},je.default.createElement(dt,{iconInfo:i}))),je.default.createElement("img",{className:"img",src:t.materialUrl,style:{borderRadius:n.img.borderRadius}})),je.default.createElement("div",{className:"right-box"},je.default.createElement("div",{className:"content",style:n.content,itemclicktype:a.COMMENT_DETAIL_CLICK},t.adDescription),je.default.createElement("div",{className:"bottom-box"},je.default.createElement(vt,{info:t,styleConf:n.buttonPosition,buttonAnimation:l,bgColor:"#fff"}),je.default.createElement(ct,{styleConf:n.closePosition})))),r))},Ot=function(e){var t=e.info,n=e.styleConfig;return je.default.createElement("div",{className:"play-end-box",itemclicktype:a.BLANK_AREA_CLICK},je.default.createElement("div",{className:"logo",itemclicktype:a.PLAY_END_ICON_CLICK},je.default.createElement("img",{src:t.adAppUrl})),je.default.createElement("div",{className:"app-name",itemclicktype:a.PLAY_END_ICON_TITLE_CLICK},t.adTitle),je.default.createElement(vt,{extraClass:"play-end-page-button",info:t,styleConf:n.buttonPosition,bgColor:n.buttonPosition.color,textColor:"#fff",itemclicktype:a.PLAY_END_CALL_CLICK}))};function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yt=function(e){var t,n=e.isVideo,i=e.imgWidth,r=e.imgHeight,o=e.info,l=e.styleConfig,c=e.isCompatibleStyle,d=e.iconInfo,s=e.isPlayEnd,u=e.children,p=e.buttonAnimation,f=void 0===p?"":p,C=n,E=tt(n,C,o);return je.default.createElement("div",{className:"box top-text-bottom-img",style:l.box,id:"box"},je.default.createElement("div",{className:"top-box ".concat(c&&"oneline-content"),style:l.content,itemclicktype:a.COMMENT_DETAIL_CLICK},je.default.createElement("span",{id:"appDesc"},o.adDescription)),je.default.createElement("div",{className:"img-box ".concat(n&&C&&"play-end"),style:Lt(Lt({},l.img),{},{padding:0}),id:"imgBox"},je.default.createElement("div",{className:"img-wrap",style:{height:r+"px",width:i+"px",margin:l.img.padding,borderRadius:l.img.borderRadius,opacity:n&&!s?0:1},id:"cardImg",itemclicktype:a.COMMENT_PICTURE_CLICK},E&&je.default.createElement("img",{className:"img",src:E,style:{borderRadius:l.img.borderRadius,height:r+"px"}}),!E&&!n&&je.default.createElement("div",{className:"no-img-wrap"},!C&&"内容走丢了…"),C&&je.default.createElement(Ot,{info:o,styleConfig:l}))),je.default.createElement("div",{className:"bottom-box",id:"bottomBox"},je.default.createElement("div",{className:"bottom-left-box"},je.default.createElement("div",{className:"logo",style:l.logo,itemclicktype:a.PORTRAIT_CLICK},je.default.createElement("img",{src:o.adAppUrl,style:{borderRadius:null===(t=l.logo)||void 0===t?void 0:t.borderRadius}})),je.default.createElement("div",{className:"app-info"},je.default.createElement("div",{className:"app-name",style:l.appName,itemclicktype:a.COMMENT_CLICK},o.adTitle),je.default.createElement("div",{className:"app-desc",style:l.appDesc,itemclicktype:a.COMMENT_RECO_CLICK},o.adDescription))),je.default.createElement(vt,{info:o,styleConf:l.buttonPosition,buttonAnimation:f,bgColor:"#fff"})),u,je.default.createElement("div",{className:"logo-box",id:"logoBox"},je.default.createElement("div",{style:l.adPosition},je.default.createElement(dt,{iconInfo:d,withoutBg:!0})),je.default.createElement(ct,{styleConf:l.closePosition})))};function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ht=function(e){var t,n=e.isVideo,i=e.info,r=e.styleConfig,o=e.imgHeight,l=e.imgWidth,c=e.isCompatibleStyle,d=e.iconInfo,s=e.isPlayEnd,u=void 0===s||s,p=e.children,f=e.buttonAnimation,C=void 0===f?"":f,E=n,_=tt(n,E,i);return je.default.createElement("div",{className:"box top-img-bottom-Text",style:r.box,id:"box"},je.default.createElement("div",{className:"img-box ".concat(n&&E&&"play-end"),style:Rt(Rt({},r.img),{},{padding:0}),id:"imgBox"},je.default.createElement("div",{className:"img-wrap",style:{height:o+"px",width:l+"px",margin:r.img.padding,borderRadius:r.img.borderRadius,opacity:n&&!u?0:1},id:"cardImg",itemclicktype:a.COMMENT_PICTURE_CLICK},_&&je.default.createElement("img",{className:"img",src:_,style:{borderRadius:r.img.borderRadius,height:o+"px"}}),!_&&!n&&je.default.createElement("div",{className:"no-img-wrap"},!E&&"内容走丢了…"),E&&je.default.createElement(Ot,{info:i,styleConfig:r}))),je.default.createElement("div",{className:"top-box ".concat(c&&"oneline-content"),style:r.content,itemclicktype:a.COMMENT_DETAIL_CLICK},je.default.createElement("span",{id:"appDesc"},i.adDescription)),je.default.createElement("div",{className:"bottom-box",id:"bottomBox"},je.default.createElement("div",{className:"bottom-left-box"},je.default.createElement("div",{className:"logo",style:r.logo,itemclicktype:a.PORTRAIT_CLICK},je.default.createElement("img",{src:i.adAppUrl,style:{borderRadius:null===(t=r.logo)||void 0===t?void 0:t.borderRadius}})),je.default.createElement("div",{className:"app-info"},je.default.createElement("div",{className:"app-name",style:r.appName,itemclicktype:a.COMMENT_CLICK},i.adTitle),je.default.createElement("div",{className:"app-desc",style:r.appDesc,itemclicktype:a.COMMENT_RECO_CLICK},i.adDescription))),je.default.createElement(vt,{info:i,styleConf:r.buttonPosition,buttonAnimation:C,bgColor:"#fff"})),p,je.default.createElement("div",{className:"logo-box",id:"logoBox"},je.default.createElement("div",{style:r.adPosition},je.default.createElement(dt,{iconInfo:d,withoutBg:!0})),je.default.createElement(ct,{styleConf:r.closePosition})))};function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pt=function(e){var t=e.isPlayEnd,n=void 0!==t&&t,i=e.isVideo,r=e.imgHeight,o=e.imgWidth,l=e.info,c=e.styleConfig,d=e.isCompatibleStyle,s=e.iconInfo,u=e.children,p=e.buttonAnimation,f=void 0===p?"":p,C=n||d&&i,E=tt(i,C,l);return je.default.createElement("div",{className:"box simplify-top-text-bottom-img",style:c.box,id:"box"},je.default.createElement("div",{className:"top-box",style:c.content,id:"topBox"},je.default.createElement("span",{itemclicktype:a.COMMENT_DETAIL_CLICK},l.adDescription),je.default.createElement(ct,{styleConf:c.closePosition})),je.default.createElement("div",{className:"img-box ".concat(i&&C&&"play-end"),style:xt(xt({},c.img),{},{padding:0}),id:"imgBox"},je.default.createElement("div",{className:"img-wrap",style:{height:r+"px",width:o+"px",margin:c.img.padding,borderRadius:c.img.borderRadius,opacity:i&&!n?0:1},id:"cardImg",itemclicktype:a.COMMENT_PICTURE_CLICK},E&&je.default.createElement("img",{className:"img",src:E,style:{borderRadius:c.img.borderRadius,height:r+"px"}}),!E&&!i&&je.default.createElement("div",{className:"no-img-wrap"},!C&&"内容走丢了…"),C&&je.default.createElement(Ot,{info:l,styleConfig:c}),je.default.createElement("div",{className:"ad-position",style:c.adPosition,itemclicktype:a.BLANK_AREA_CLICK},je.default.createElement(dt,{iconInfo:s})))),je.default.createElement("div",{className:"bottom-box",id:"bottomBox"},je.default.createElement("div",{className:"app-name",style:c.appName,itemclicktype:a.COMMENT_CLICK},l.adTitle),je.default.createElement(vt,{info:l,styleConf:c.buttonPosition,buttonAnimation:f,bgColor:"#fff"})),u)};function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mt,Kt=function(e){var t=e.isPlayEnd,n=void 0!==t&&t,i=e.isVideo,r=e.info,o=e.styleConfig,l=e.imgHeight,c=e.imgWidth,d=e.isCompatibleStyle,s=e.iconInfo,u=e.children,p=e.buttonAnimation,f=void 0===p?"":p,C=n||d&&i,E=tt(i,C,r);return je.default.createElement("div",{className:"box simplify-top-img-bottom-text",style:o.box,id:"box"},je.default.createElement("div",{className:"img-box ".concat(i&&C&&"play-end"),style:wt(wt({},o.img),{},{padding:0}),id:"imgBox"},je.default.createElement("div",{className:"img-wrap",id:"cardImg",style:{height:l+"px",width:c+"px",margin:o.img.padding,borderRadius:o.img.borderRadius,opacity:i&&!n?0:1},itemclicktype:a.COMMENT_PICTURE_CLICK},E&&je.default.createElement("img",{className:"img",src:E,style:{borderRadius:o.img.borderRadius,height:l+"px"}}),!E&&!i&&je.default.createElement("div",{className:"no-img-wrap"},!C&&"内容走丢了…"),C&&je.default.createElement(Ot,{info:r,styleConfig:o}))),je.default.createElement("div",{className:"bottom-box",id:"bottomBox"},je.default.createElement("div",{className:"bottom-left-box"},je.default.createElement("div",{className:"app-info"},je.default.createElement("div",{className:"app-name",style:o.appName,itemclicktype:a.COMMENT_CLICK},r.adTitle),je.default.createElement("div",{className:"app-desc",style:o.appDesc,itemclicktype:a.COMMENT_DETAIL_CLICK},r.adDescription))),je.default.createElement(vt,{info:r,styleConf:o.buttonPosition,buttonAnimation:f,bgColor:"#fff"})),u,je.default.createElement("div",{className:"logo-box",id:"logoBox"},je.default.createElement("div",{style:o.adPosition},je.default.createElement(dt,{iconInfo:s,withoutBg:!0})),je.default.createElement(ct,{styleConf:o.closePosition})))},kt={1:{box:{height:227,width:375,padding:"16px 16px 16px 16px",backgroundColor:"rgba(255,255,255,1)",borderRadius:"0px"},content:{padding:"21px 0px 8px 12px",fontSize:18,color:"rgba(255,255,255,1)"},img:{padding:"0px 0px 0px 0px",borderRadius:0},adPosition:{margin:"12px 0 0 12px"},closePosition:{margin:"0px 12px 16px 0px"}},2:{box:{height:106,width:375,padding:"16px 16px 16px 16px",backgroundColor:"rgba(255,255,255,1)",borderRadius:0},img:{padding:"0px 0px 0px 0px",borderRadius:3},adPosition:{margin:"0px 0px 0px 0px"},buttonPosition:{margin:"0px 0px 0px 0px",color:"rgba(255,80,0,1)"},content:{margin:"0px 12px 0px 0px",fontSize:16,color:"rgba(2,2,2,1)"},closePosition:{margin:"0px 12px 0px 0px"}},3:{box:{height:106,width:375,padding:"16px 16px 16px 16px",backgroundColor:"rgba(255,255,255,1)",borderRadius:0},img:{padding:"0px 0px 0px 0px",borderRadius:3},buttonPosition:{margin:"0px 0px 0px 12px",color:"rgba(255,80,0,1)"},adPosition:{margin:"0px 0px 0px 0px"},content:{margin:"0px 0px 0px 12px",fontSize:16,color:"rgba(2,2,2,1)"},closePosition:{margin:"0px 0px 0px 0px"}},4:{box:{height:450,width:375,padding:"16px 16px 16px 16px",backgroundColor:"rgba(255,255,255,1)",borderRadius:0},content:{padding:"0px 0px 0px 0px",fontSize:18,color:"rgba(50,50,50,1)"},img:{padding:"8px 0px 0px 0px",borderRadius:"3px"},logo:{display:"inline-block",width:38,height:38,borderRadius:8,margin:"8px 0px 0px 0px"},appName:{margin:"8px 0 0 8px",fontSize:14,color:"rgba(50,50,50,1)"},appDesc:{margin:"2px 0px 0px 8px",fontSize:12,color:"rgba(153,153,153,1)"},buttonPosition:{margin:"12px 0px 0px 0px",color:"rgba(255,80,0,1)",borderColor:"rgba(255,80,0,1)"},adPosition:{margin:"12px 0 0 0px"},closePosition:{margin:"12px 0px 0px 0px"}},5:{box:{width:375,height:450,padding:"16px 16px 16px 16px",backgroundColor:"rgba(255,255,255,1)",borderRadius:0},content:{padding:"0px 0px 0px 0px",fontSize:18,color:"rgba(50,50,50,1)"},img:{padding:"0px 0px 8px 0px",borderRadius:3},logo:{display:"inline-block",width:38,height:38,borderRadius:8,margin:"8px 0px 0px 0px"},appName:{margin:"8px 0 0 8px",fontSize:14,color:"rgba(50,50,50,1)"},appDesc:{margin:"2px 0px 0px 8px",fontSize:12,color:"rgba(153,153,153,1)"},buttonPosition:{margin:"12px 0px 0px 0px",color:"rgba(255,80,0,1)",borderColor:"rgba(255,80,0,1)"},adPosition:{margin:"12px 0 0 0px"},closePosition:{margin:"12px 0px 0px 0px"}},7:{box:{width:375,padding:"16px 16px 16px 16px",backgroundColor:"rgba(255,255,255,1)",borderRadius:0},content:{padding:"0px 0px 0px 0px",fontSize:18,color:"rgba(50,50,50,1)"},img:{padding:"8px 0px 0px 0px",borderRadius:0},logo:{display:"inline-block",width:38,height:38,borderRadius:8,margin:"8px 0px 0px 0px"},appName:{margin:"8px 0px 0px 0px",fontSize:12,color:"rgba(153,153,153,1)"},appDesc:{margin:"2px 0px 0px 8px",fontSize:12,color:"rgba(153,153,153,1)"},buttonPosition:{margin:"8px 0px 0px 0px",color:"rgba(255,80,0,1)",borderColor:"rgba(255,80,0,1)"},adPosition:{margin:"0px 0px 8px 8px"},closePosition:{margin:"8px 0px 0px 8px"}},8:{box:{padding:"16px 16px 16px 16px",backgroundColor:"rgba(255,255,255,1)",borderRadius:0,width:375},content:{padding:"0px 0px 0px 0px",fontSize:18,color:"rgba(50,50,50,1)"},img:{padding:"0px 0px 0px 0px",borderRadius:"0px"},appName:{margin:"8px 0 0 0px",fontSize:18,color:"rgba(50,50,50,1)"},appDesc:{margin:"2px 0px 0px 0px",fontSize:14,color:"rgba(153,153,153,1)"},buttonPosition:{margin:"17px 0px 0px 0px",color:"rgba(255,80,0,1)",borderColor:"rgba(255,80,0,1)"},adPosition:{margin:"12px 0 0 0px"},closePosition:{margin:"12px 0px 0px 0px"}}},Ut=Object.keys(kt),Bt=function(e){var t=String(e);return Number(Ut.includes(t))?e:5},jt=kt;function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.STATIC=0]="STATIC",e[e.BREATHE=1]="BREATHE",e[e.TWIRL=2]="TWIRL",e[e.BEAT=3]="BEAT",e[e.FLASH=4]="FLASH"}(Mt||(Mt={}));var Vt,Yt,Ht,Wt,Zt,zt,Jt,Xt,qt,$t,Qt,en,tn,nn,rn,on,an,ln,cn,dn,sn,un,pn,fn,Cn,En=function(e){var t=e.info,n=e.extraStyle,i=t.adTitle,r=t.appVersion,o=t.packageSize,a=t.corporationName,l=t.appPermissionInfoUrl,c=t.appPrivacyUrl,d=t.creativeId,s=t.isHidePermissionInfo,u=function(e,t){e.stopPropagation();var n=1===t?"应用权限":"隐私政策",i=1===t?l:c;N.J.openNewPage({url:i,title:n,params:{creativeId:d}})},p=o?Number(o):0;if(isNaN(o)&&(p=0),s)return je.default.createElement(je.default.Fragment,null);var f,C=Ie(20)+"px",E=Ie(24)+"px";return je.default.createElement("div",{className:"permission-wrap",style:Ft(Ft({},n),{},{fontSize:C,lineHeight:E})},je.default.createElement("div",{className:"permission-info"},"应用名：",i,r&&"；版本号：".concat(r),!!p&&"；应用大小：".concat((2,0===(f=p)?"":f<=10485.76?"0.01MB":f<1073741824?(f/1048576).toFixed(2)+"MB":f>=1073741824?(f/1073741824).toFixed(2)+"GB":"")),a&&"；开发者：".concat(a)),l||c?je.default.createElement("div",{className:"permission-link"},l?je.default.createElement("div",{style:{fontSize:C,lineHeight:E},onClick:function(e){e.stopPropagation(),u(e,1)}},"权限列表"):null,l&&c?je.default.createElement("p",null):null,c?je.default.createElement("div",{style:{fontSize:C,lineHeight:E},onClick:function(e){e.stopPropagation(),u(e,2)}},"隐私政策"):null):null)},_n={TextFloat:1,LeftTextRightImg:2,LeftImgRightText:3,TopTextBottomImg:4,TopImgBottomText:5,SimplifyTopTextBottomImg:7,SimplifyTopImgBottomText:8},mn=function(e){var t,n,i=e.info,r=(e.isDownload,e.cardSize),o=e.isVideo,a=e.templateType,l=e.feedAdInfo,c=e.isCompatibleStyle,d=e.buttonAnimation,s=void 0===d?"":d,u=function(e){return{adMarkIcon:e.adMarkIcon,adSourceDescription:e.adSourceDescription,adSourceType:e.adSourceType,adGrayMarkIcon:e.adGrayMarkIcon}}(i),p=Number(a),f=l&&l.templateConfig||jt[p]||jt[_n.TopImgBottomText],C=rt(r.width,f),E=C.imgWidth,_=C.imgHeight;if([_n.LeftImgRightText,_n.LeftTextRightImg].includes(p)){var m=l&&l.heightRatio||.283,I=Math.ceil(r.width*m);f.box.height=I>100?I:100}else if(c){var g=f.box.height,v=rt(f.box.width||375,f).imgHeight;f.box.height=Number(g)+(Number(_)-Number(v))}else delete f.box.height;f.box.width&&delete f.box.width,[_n.TopImgBottomText,_n.TopTextBottomImg].includes(p)&&(t=function(e,t){return e-it(t.box).width}(r.width,f),n=function(e){return 1.5*(e.content.fontSize||18)}(f));var A=(0,je.useState)(c),O=(0,T.Z)(A,2),L=O[0],y=O[1];(0,je.useEffect)((function(){!c&&o&&N.J.registerVideoListener({success:function(e){var t=e.data.status;t=Number(t),y(8===t||9===t)}})}),[]);var b=(0,je.useState)(s),R=(0,T.Z)(b,2),h=R[0],D=R[1];return je.default.createElement("div",{className:"card",id:"card$",style:{height:c?f.box.height+"px":"100%"},onClick:function(){D(Mt[0])}},je.default.createElement("div",{id:"hiddenText",contentwidth:String(t),textheight:String(n),style:{fontSize:f.content&&f.content.fontSize||0}},i.adDescription),p===_n.TextFloat&&je.default.createElement(st,{info:i,iconInfo:u,styleConfig:f,imgHeight:_,isCompatibleStyle:c},je.default.createElement(En,{info:i})),p===_n.LeftTextRightImg&&je.default.createElement(Tt,{info:i,styleConfig:f,iconInfo:u,buttonAnimation:h},je.default.createElement(En,{info:i})),p===_n.LeftImgRightText&&je.default.createElement(At,{info:i,styleConfig:f,iconInfo:u,buttonAnimation:h},je.default.createElement(En,{info:i})),p===_n.TopTextBottomImg&&je.default.createElement(yt,{isVideo:o,iconInfo:u,imgHeight:_,imgWidth:E,info:i,styleConfig:f,isCompatibleStyle:c,isPlayEnd:L,buttonAnimation:h},je.default.createElement(En,{info:i})),p===_n.TopImgBottomText&&je.default.createElement(ht,{isVideo:o,iconInfo:u,imgHeight:_,imgWidth:E,info:i,styleConfig:f,isCompatibleStyle:c,isPlayEnd:L,buttonAnimation:h},je.default.createElement(En,{info:i})),p===_n.SimplifyTopTextBottomImg&&je.default.createElement(Pt,{isPlayEnd:L,isVideo:o,iconInfo:u,imgHeight:_,imgWidth:E,info:i,styleConfig:f,isCompatibleStyle:c,buttonAnimation:h},je.default.createElement(En,{info:i})),p===_n.SimplifyTopImgBottomText&&je.default.createElement(Kt,{isPlayEnd:L,isVideo:o,iconInfo:u,imgHeight:_,imgWidth:E,info:i,styleConfig:f,isCompatibleStyle:c,buttonAnimation:h},je.default.createElement(En,{info:i})))};Yt={name:"ad-union-feed-template",isGetContainerInfo:!0,adConfigMinSDKVersion:"3.3.22",contentConfigMinSDKVersion:"3.3.28",component:function(e){var t,n=e.info,i=e.configData,r=n.containerWidth,o=n.containerHeight,a=n.isDownload,l=n.systemVersion,c=n.isIOS,d=n.materialFeature,s=n.type,u=n.isVideo;t=!!(c&&Number(l.split(".")[0])<11);var p=lt({info:n});s=Bt(s);var f=d[0].materialUrl,C=d[0];f||(u=!1,f=C||"",n.materialFeature[0].materialUrl=f);var E={width:r,height:o},_=0;try{var m;a&&(_=(null==i||null===(m=i.appConfig)||void 0===m?void 0:m.feedDownloadBtnAnimType)||0)}catch(e){console.log(e)}return je.default.createElement(mn,{info:n,isDownload:a,cardSize:E,isVideo:u,templateType:s,feedAdInfo:p,buttonAnimation:Mt[_],isCompatibleStyle:t})},renderSuccess:(Vt=(0,I.Z)(v().mark((function e(t){var n,r,o,a,l,c,d,s,p,f,C,E,_,m,I,g,T,A,O,N,L,y,b,R,h,D,x;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.info,r=n.isVideo,o=n.containerWidth,a=n.type,n.isDownload,l=n.SDKVersion,c=n.sdkType,(_e(l,"3.3.24")>=0&&c===w.AD||_e(l,"3.3.28")>=0&&c===w.CONTENT)&&Ke().then((function(e){"showEnd"===e.lifeStatus&&ce({actionType:i.AD_ITEM_IMPRESSION,payload:JSON.stringify({clientExtData:JSON.stringify({template_id:a.toString()})})})})),d=n.type,s=n.isHidePermissionInfo,d=Bt(d),2!==a&&3!==a||s||(p=document.querySelector("#box"),f=document.querySelector(".permission-wrap"),C=p.getBoundingClientRect(),E=f.getBoundingClientRect(),_=C.height,m=E.height+12,p.style.height=_+m+"px",I=document.querySelector("#box .flex-wrap"),g=Number(p.style.paddingTop.replace("px",""))+Number(p.style.paddingBottom.replace("px","")),I.style.height=_-g+"px"),T=nt("card$").height,!pe&&(4==+d||5==+d)&&!ot("hiddenText")&&(T-=at("hiddenText")),A={height:Math.ceil(T*fe),leftMargin:0,rightMargin:0,bottomMargin:0},e.prev=9,e.next=12,xe(A);case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(9),X("call initKsAdFrame fail: ",{e:e.t0,frameParams:A}),Le(u.ERROR),e.abrupt("return");case 19:if(O=lt({info:n}),!r){e.next=42;break}if(y=document.getElementById("cardImg")){e.next=26;break}return X("cardImg is not exists"),Le(u.ERROR),e.abrupt("return");case 26:if(b=y.getBoundingClientRect(),R=pe||4!=+d||ot("hiddenText")?Number((b.top/T).toFixed(3)):Number(((b.top-at("hiddenText"))/T).toFixed(3)),"string"==typeof(h=null==O?void 0:O.templateConfig))try{h=JSON.parse(h)}catch(e){X("parse feedAdInfo.templateConfig fail: ",{e:e,feedAdInfo:O})}return D=(null===(N=h)||void 0===N||null===(L=N.img)||void 0===L?void 0:L.borderRadius)||0,x={leftMarginRation:Number(((o-b.width)/2/o).toFixed(3)),topMarginRation:R,widthRation:Number((b.width/o).toFixed(3)),heightWidthRation:Number((9/16).toFixed(3)),borderRadius:Number((D*fe).toFixed(3))},e.prev=32,e.next=35,ye(x);case 35:e.next=42;break;case 37:return e.prev=37,e.t1=e.catch(32),X("call videoPosition fail: ",{e:e.t1,videoPositionParams:x}),Le(u.ERROR),e.abrupt("return");case 42:we(),Le(u.RENDER_COMPLETE);case 44:case"end":return e.stop()}}),e,null,[[9,14],[32,37]])}))),function(e){return Vt.apply(this,arguments)})},Ht=Yt.name,Wt=Yt.show,Zt=Yt.component,zt=Yt.adType,Jt=void 0===zt?"single":zt,Xt=Yt.renderSuccess,qt=Yt.isGetConfig,$t=void 0!==qt&&qt,Qt=Yt.isGetContainerInfo,en=void 0!==Qt&&Qt,tn=Yt.isGetKsAdExtraData,nn=void 0!==tn&&tn,rn=Yt.isChangePageStatusWhenFail,on=void 0===rn||rn,an=Yt.root,ln=void 0===an?document.getElementById("app"):an,cn=Yt.isGetEcInfo,dn=void 0!==cn&&cn,sn=Yt.isPureContainer,un=void 0!==sn&&sn,pn=Yt.adConfigMinSDKVersion,fn=void 0===pn?"":pn,Cn=Yt.contentConfigMinSDKVersion,et({name:Ht,show:Wt,component:Zt,renderSuccess:Xt,root:ln,adType:Jt,isGetConfig:$t,isGetContainerInfo:en,isGetKsAdExtraData:nn,isChangePageStatusWhenFail:on,isGetEcInfo:dn,isPureContainer:un,adConfigMinSDKVersion:fn,contentConfigMinSDKVersion:void 0===Cn?"":Cn})},34155:function(e){var t,n,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l,c=[],d=!1,s=-1;function u(){d&&l&&(d=!1,l.length?c=l.concat(c):s=-1,c.length&&p())}function p(){if(!d){var e=a(u);d=!0;for(var t=c.length;t;){for(l=c,c=[];++s<t;)l&&l[s].run();s=-1,t=c.length}l=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function C(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||d||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=C,i.addListener=C,i.once=C,i.off=C,i.removeListener=C,i.removeAllListeners=C,i.emit=C,i.prependListener=C,i.prependOnceListener=C,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,i),o.exports}i.m=t,e=[],i.O=function(t,n,r,o){if(!n){var a=1/0;for(s=0;s<e.length;s++){n=e[s][0],r=e[s][1],o=e[s][2];for(var l=!0,c=0;c<n.length;c++)(!1&o||a>=o)&&Object.keys(i.O).every((function(e){return i.O[e](n[c])}))?n.splice(c--,1):(l=!1,o<a&&(a=o));if(l){e.splice(s--,1);var d=r();void 0!==d&&(t=d)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[n,r,o]},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.j=20,function(){var e={20:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,a=n[0],l=n[1],c=n[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(r in l)i.o(l,r)&&(i.m[r]=l[r]);if(c)var s=c(i)}for(t&&t(n);d<a.length;d++)o=a[d],i.o(e,o)&&e[o]&&e[o][0](),e[a[d]]=0;return i.O(s)},n=self.webpackChunkkuaishou_frontend_ad_alliance_hybrid=self.webpackChunkkuaishou_frontend_ad_alliance_hybrid||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var r=i.O(void 0,[736],(function(){return i(71640)}));r=i.O(r)}();
//# sourceMappingURL=ad-union-feed-template.56783a4618d811759bc9.js.map